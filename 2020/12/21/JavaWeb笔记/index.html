<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JavaWeb笔记 | luxnln</title><meta name="keywords" content="javaweb, servlet, jsp, cookies, session, ..."><meta name="author" content="Luxnln"><meta name="copyright" content="Luxnln"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JavaWeb的概念什么是JavaWeb？JavaWeb是指，所有通过java语言编写可以通过浏览器访问的程序的总称，叫JavaWeb。 JavaWeb是基于请求和响应开发的。 请求和响应什么是请求？  请求是值客户端给服务器发送数据，叫请求Request  什么是响应？  响应是指服务器给客户端回传数据，叫响应Response  请求和响应的关系  请求和响应是成对出现的。  Web资源分类we">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb笔记">
<meta property="og:url" content="https://github.com/luxnln/luxnln.github.io/2020/12/21/JavaWeb%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="luxnln">
<meta property="og:description" content="JavaWeb的概念什么是JavaWeb？JavaWeb是指，所有通过java语言编写可以通过浏览器访问的程序的总称，叫JavaWeb。 JavaWeb是基于请求和响应开发的。 请求和响应什么是请求？  请求是值客户端给服务器发送数据，叫请求Request  什么是响应？  响应是指服务器给客户端回传数据，叫响应Response  请求和响应的关系  请求和响应是成对出现的。  Web资源分类we">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover23.png">
<meta property="article:published_time" content="2020-12-21T06:57:30.000Z">
<meta property="article:modified_time" content="2021-01-07T05:55:31.397Z">
<meta property="article:author" content="Luxnln">
<meta property="article:tag" content="JavaWeb">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover23.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://github.com/luxnln/luxnln.github.io/2020/12/21/JavaWeb%E7%AC%94%E8%AE%B0/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-8FB8GQC3GE"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-8FB8GQC3GE');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"6X03TQYT9L","apiKey":"727f7c62fe6e346f4448d0f80914ab79","indexName":"my-hexo-blog","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":75,"languages":{"author":"作者: Luxnln","link":"链接: ","source":"来源: luxnln","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-01-07 13:55:31'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/head/rocket.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">22</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover23.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">luxnln</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaWeb笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-12-21T06:57:30.000Z" title="发表于 2020-12-21 14:57:30">2020-12-21</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-01-07T05:55:31.397Z" title="更新于 2021-01-07 13:55:31">2021-01-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/">Java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Java/JavaWeb/">JavaWeb</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">17.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>71分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2020/12/21/JavaWeb%E7%AC%94%E8%AE%B0/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2020/12/21/JavaWeb%E7%AC%94%E8%AE%B0/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="JavaWeb的概念"><a href="#JavaWeb的概念" class="headerlink" title="JavaWeb的概念"></a>JavaWeb的概念</h2><h3 id="什么是JavaWeb？"><a href="#什么是JavaWeb？" class="headerlink" title="什么是JavaWeb？"></a>什么是JavaWeb？</h3><p>JavaWeb是指，所有通过java语言编写可以通过浏览器访问的程序的总称，叫JavaWeb。</p>
<p>JavaWeb是基于请求和响应开发的。</p>
<h3 id="请求和响应"><a href="#请求和响应" class="headerlink" title="请求和响应"></a>请求和响应</h3><p>什么是请求？</p>
<ul>
<li>请求是值客户端给服务器发送数据，叫请求Request</li>
</ul>
<p>什么是响应？</p>
<ul>
<li>响应是指服务器给客户端回传数据，叫响应Response</li>
</ul>
<p>请求和响应的关系</p>
<ul>
<li>请求和响应是成对出现的。</li>
</ul>
<h3 id="Web资源分类"><a href="#Web资源分类" class="headerlink" title="Web资源分类"></a>Web资源分类</h3><p>web资源按实现的技术和呈现的效果的不同，分为静态资源和动态资源</p>
<ol>
<li>静态资源：所有用户访问后，得到的结果都是一样的，称为静态资源。静态资源可以直接被浏览器解析<ul>
<li>例如：html,css,JavaScript,text,mp4,jpg</li>
</ul>
</li>
<li>动态资源：每个用户访问相同资源后，得到的结果可能不一样，称为动态资源。动态资源被访问后，需要先转换为静态资源，再返回给浏览器<ul>
<li>例如：servlet/jsp，php，asp…</li>
</ul>
</li>
</ol>
<h2 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h2><ul>
<li>Servlet是JavaEE规范之一(规范就是接口)；</li>
<li>Servlet就是JavaWeb三大组件之一(三大组件：Servlet程序、Filter过滤器、Listener监听器)；</li>
<li>Servlet是运行在服务器上的一个java小程序，<strong>它可以接收客户端发送过来的请求，并响应数据给客户端</strong>。</li>
</ul>
<h3 id="Servlet技术"><a href="#Servlet技术" class="headerlink" title="Servlet技术"></a>Servlet技术</h3><h4 id="实现Servlet程序"><a href="#实现Servlet程序" class="headerlink" title="实现Servlet程序"></a>实现Servlet程序</h4><ol>
<li>编写一个类去实现Servlet接口</li>
<li>实现service方法，处理请求，并响应数据</li>
<li>到web.xml中去配置servlet的访问地址</li>
</ol>
<p><strong>示例</strong></p>
<p>Servlet代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo1</span> <span class="keyword">implements</span> <span class="title">Servlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123; &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletConfig <span class="title">getServletConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * service方法是专门用来处理请求和响应的</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> servletRequest</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> servletResponse</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;有请求&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getServletInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>web.xml配置说明：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- servlet标签给Tomcat配置Servlet程序 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- servlet-name标签，Servlet程序起一个别名(一般是类名) --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- servlet-class是Servlet程序配置全类名 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- servlet-mapping标签给servlet程序配置访问路径 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- servlet-name标签的作用是告诉服务器，我当前配置的地址给哪个Servlet程序使用 --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>ServletDemo1<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- url-pattern 标签配置访问地址</span></span><br><span class="line"><span class="comment">		/ 斜杠在服务器解析的时候，表示地址为：http://ip:port/工程路径</span></span><br><span class="line"><span class="comment">		/ Demo 表示地址为: http://ip:/port/工程路径/Demo</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/Demo<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>注意：<br>web.xml中配置url-pattern路径，没有以“/”开头；<br>web.xml中配置的servlet-mapping标签中的servlet-name的值不存在(即需要有servlet标签的servlet-name与之对应)。</p>
</blockquote>
<h5 id="Servlet-rul如何定位到Servlet程序中去访问"><a href="#Servlet-rul如何定位到Servlet程序中去访问" class="headerlink" title="Servlet-rul如何定位到Servlet程序中去访问"></a>Servlet-rul如何定位到Servlet程序中去访问</h5><p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/Servlet-rul%E5%AE%9A%E4%BD%8D%E5%88%B0Servlet%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%8E%BB%E8%AE%BF%E9%97%AE%E5%9B%BE%E8%A7%A3.jpg" alt="1-1"></p>
<h4 id="Servlet的生命周期"><a href="#Servlet的生命周期" class="headerlink" title="Servlet的生命周期"></a>Servlet的生命周期</h4><ol>
<li>执行Servlet构造器方法(仅在Servlet被创建的时候调用)；</li>
<li>执行init方法(仅在Servlet被创建的时候调用)；</li>
<li>执行service方法(每次访问都会调用)；</li>
<li>执行destroy销毁方法(在web工程停止的时候调用)。</li>
</ol>
<h4 id="Servlet请求分发处理"><a href="#Servlet请求分发处理" class="headerlink" title="Servlet请求分发处理"></a>Servlet请求分发处理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo1</span> <span class="keyword">implements</span> <span class="title">Servlet</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;====service()====&quot;</span>);</span><br><span class="line">        <span class="comment">// 因为HttpServletRequest有getMethod方法，可以知道是get请求还是post请求</span></span><br><span class="line">        HttpServletRequest httpServletRequest = (HttpServletRequest)servletRequest;</span><br><span class="line">        String method = httpServletRequest.getMethod();</span><br><span class="line">        System.out.println(method + <span class="string">&quot;请求&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="通过继承HttpServlet类实现Servlet程序"><a href="#通过继承HttpServlet类实现Servlet程序" class="headerlink" title="通过继承HttpServlet类实现Servlet程序"></a>通过继承HttpServlet类实现Servlet程序</h4><p>一般在实际项目开发中，都是使用继承HttpServlet类的方式去实现Servlet程序。</p>
<ol>
<li>编写一个类去继承HttpServlet类；</li>
<li>根据业务需要重写doGet或doPost方法；</li>
<li>到web.xml中配置Servlet程序的访问地址。</li>
</ol>
<h4 id="整个Servlet类的体系继承"><a href="#整个Servlet类的体系继承" class="headerlink" title="整个Servlet类的体系继承"></a>整个Servlet类的体系继承</h4><p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/%E6%95%B4%E4%B8%AAServlet%E7%B1%BB%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%A7%E6%89%BF.jpg" alt="1-2"></p>
<h3 id="ServletConfig类"><a href="#ServletConfig类" class="headerlink" title="ServletConfig类"></a>ServletConfig类</h3><ul>
<li><p>ServletConfig，<strong>Servlet程序的配置信息类</strong>；</p>
</li>
<li><p>Servlet 程序和Servlet对象都是<strong>由Tomcat负责创建</strong>，我们负责使用；</p>
</li>
<li><p>Servlet程序默认是第一次访问的时候创建，<strong>ServletConfig是每个Servlet程序创建时，就创建一个对应的ServletConfig类对象</strong>。</p>
</li>
</ul>
<h4 id="ServletConfig类的三大作用"><a href="#ServletConfig类的三大作用" class="headerlink" title="ServletConfig类的三大作用"></a>ServletConfig类的三大作用</h4><ol>
<li>可以获取Servlet程序的别名，即servlet-name的值；</li>
<li>获取初始化参数init-param；</li>
<li>获取ServletContext对象。</li>
</ol>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo1</span> <span class="keyword">implements</span> <span class="title">Servlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line"><span class="comment">//        1. 可以获取Servlet程序的别名，即web.xml中servlet-name标签的值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ServletDemo1程序的别名是：&quot;</span>+servletConfig.getServletName());</span><br><span class="line"><span class="comment">//        2. 获取初始化参数init-param，即init-param的值，&lt;servlet&gt;标签中的&lt;init-param&gt;</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ServletDemo1程序的init-param是：&quot;</span>+servletConfig.getInitParameter(<span class="string">&quot;something&quot;</span>));</span><br><span class="line"><span class="comment">//        3. 获取ServletContext对象</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ServletDemo1程序的ServletContext：&quot;</span>+servletConfig.getServletContext());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ServletContext类"><a href="#ServletContext类" class="headerlink" title="ServletContext类"></a>ServletContext类</h3><h4 id="什么是ServletContext"><a href="#什么是ServletContext" class="headerlink" title="什么是ServletContext"></a>什么是ServletContext</h4><ol>
<li>ServletContext是一个接口，它<strong>表示Servlet上下文对</strong>象；</li>
<li><strong>一个web工程，只有一个ServletContext对象实例</strong>；</li>
<li>ServletContext对象是一个<strong>域对象</strong>。</li>
</ol>
<p><strong>什么是域对象？</strong></p>
<ul>
<li><p>域对象，是可以想map有一样存取数据的对象，叫域对象；</p>
</li>
<li><p>这里的域指的是存取数据的操作范围。</p>
</li>
</ul>
<p><strong>域对象与Map使用对比</strong>：</p>
<table>
<thead>
<tr>
<th align="left">存数据</th>
<th align="left">取数据</th>
<th align="left">删除数据</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Map</td>
<td align="left">put()</td>
<td align="left">get()</td>
</tr>
<tr>
<td align="left">域对象</td>
<td align="left">setAttribute()</td>
<td align="left">getAttribute()</td>
</tr>
</tbody></table>
<h4 id="ServletContext类的作用"><a href="#ServletContext类的作用" class="headerlink" title="ServletContext类的作用"></a>ServletContext类的作用</h4><ol>
<li>获取web.xml中配置的上下文参数context-param；</li>
<li>获取当前工程路径，格式：/工程路径；</li>
<li>获取工程部署后在服务器硬盘上的绝对路径；</li>
<li>像Map一样存取数据。</li>
</ol>
<h3 id="HTTP协议"><a href="#HTTP协议" class="headerlink" title="HTTP协议"></a>HTTP协议</h3><h4 id="什么是HTTP协议"><a href="#什么是HTTP协议" class="headerlink" title="什么是HTTP协议"></a>什么是HTTP协议</h4><ol>
<li><p>协议是指双方，或多方，相互约定号，大家都需要遵守的规则，叫协议；</p>
</li>
<li><p>所谓HTTP协议，就是指客户端和服务器之间通信时，发送的数据，需要遵守的规则，叫HTTP协议；</p>
</li>
<li><p>HTTP协议中的数据又叫报文。</p>
</li>
</ol>
<h4 id="请求求的HTTP协议格式"><a href="#请求求的HTTP协议格式" class="headerlink" title="请求求的HTTP协议格式"></a>请求求的HTTP协议格式</h4><p>客户端给服务器发送数据叫<strong>请求</strong>。</p>
<p><strong>请求又分为GET请求和POST请求两种：</strong></p>
<ol>
<li><p><strong>GET请求</strong></p>
<ol>
<li>请求行：<ol>
<li>请求的方式    GET</li>
<li>请求的资源路径(+?+请求参数）</li>
<li>请求的协议的版本号    HTTP/1.1</li>
</ol>
</li>
<li>请求头： <code>key:value</code> 组成不同的键值对，表示不同的含义。<ul>
<li>常见的请求头key<ul>
<li>Accept:表示客户端可以接受的数据类型</li>
<li>Accept-Language:表示服务器客户端可以接受的语言类型<ul>
<li>zh_CN 中文中国</li>
<li>en_US 英文美国</li>
</ul>
</li>
<li>User-Agent:就是浏览器的信息</li>
<li>Accept-Encoding:告诉服务器，客户端可以接收的数据编码(压缩)格式</li>
<li>Host:表示请求的服务器ip和端口号</li>
<li>Connection:告诉服务器请求连接如何处理<ul>
<li>Keep-Alive:告诉夫刷漆回传数据不要马上关闭，保持一小段时间的连接</li>
<li>Closed:马上关闭</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><p><strong>POST请求</strong></p>
<ol>
<li>请求行<ol>
<li>请求的方式    POST</li>
<li>请求的资源路径(+?+请求参数）</li>
<li>请求的协议的版本号    HTTP/1.1</li>
</ol>
</li>
<li>请求头<ol>
<li>key:value 组成 不同的键值对，表示不同的含义<ul>
<li>常见的请求头key<ul>
<li>Accept:表示客户端可以接受的数据类型<ul>
<li>Accept-Language:表示服务器客户端可以接收的语言类型</li>
<li>zh_CN 中文中国</li>
<li>en_US 英文美国<ul>
<li>Referer:表示请求发起事，浏览器地址栏的地址（从哪来）</li>
<li>User-Agent:就是浏览器的信息</li>
<li>Content-Type:表示发送的数据类型</li>
</ul>
</li>
<li>application/x-www-form-urlencoded  表示提交的数据格式是：name=value&amp;name=value，然后对气进行url编码</li>
<li>multipart/form-data   表示一多段的形式提交数据给服务器（以流的形式提交，用于上传）<ul>
<li>Accept-Encoding:告诉服务器，客户端可以接收的数据编码(压缩)格式</li>
<li>Host:表示请求的服务器ip和端口号</li>
<li>Content-Length:表示发送的数据长度</li>
<li>Connection:告诉服务器请求连接如何处理</li>
</ul>
</li>
<li>Keep-Alive:告诉夫刷漆回传数据不要马上关闭，保持一小段时间的连接</li>
<li>Closed:马上关闭<ul>
<li>Cache-Control:表示如何控制缓存    no-cache不缓存</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>空行(空白行)；</li>
</ol>
</li>
<li>请求体。</li>
</ol>
</li>
<li><p>常用请求头说明：</p>
<ul>
<li>Accept:表示客户端可以接受的数据类型；</li>
<li>Accept-Language:表示服务器客户端可以接受的语言类型；</li>
<li>User-Agent:就是浏览器的信息；</li>
<li>Host:表示请求的服务器ip和端口号。</li>
</ul>
</li>
<li><p>哪些是GET请求，哪些是POST请求</p>
<ul>
<li>GET请求有哪些？<ol>
<li>form标签method=get；</li>
<li>a标签；</li>
<li>link标签引入css；</li>
<li>script标签引入js文件；</li>
<li>img标签引入图片；</li>
<li>iframe引入html页面；</li>
<li>在浏览器中输入地址后敲回车。</li>
</ol>
</li>
<li>POST请求有哪些？<ol>
<li>form标签method=post。</li>
</ol>
</li>
</ul>
</li>
</ol>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="响应的HTTP协议格式"><a href="#响应的HTTP协议格式" class="headerlink" title="响应的HTTP协议格式"></a>响应的HTTP协议格式</h4><p>服务器给客户端回传数据叫<strong>响应</strong>：</p>
<ol>
<li><p>响应行</p>
<ol>
<li>响应的协议和版本号；</li>
<li>响应状态码；</li>
<li>响应状态描述符。</li>
</ol>
</li>
<li><p>响应头</p>
<ol>
<li>key:value 不同的响应头，有起不同的含义；</li>
<li>空行。</li>
</ol>
</li>
<li><p>响应体 —&gt; 就是回传给客户端的数据。</p>
</li>
</ol>
<h5 id="常用的响应码说明"><a href="#常用的响应码说明" class="headerlink" title="常用的响应码说明"></a>常用的响应码说明</h5><table>
<thead>
<tr>
<th align="left">响应码</th>
<th align="left">示意</th>
</tr>
</thead>
<tbody><tr>
<td align="left">200</td>
<td align="left">表示请求成功</td>
</tr>
<tr>
<td align="left">302</td>
<td align="left">表示请求重定向</td>
</tr>
<tr>
<td align="left">404</td>
<td align="left">表示请求服务器，已经收到了，但是你要的数据不存在(请求地址错误)</td>
</tr>
<tr>
<td align="left">500</td>
<td align="left">表示服务器已经收到请求，但是服务器内部错误</td>
</tr>
</tbody></table>
<h5 id="MIME类型说明"><a href="#MIME类型说明" class="headerlink" title="MIME类型说明"></a>MIME类型说明</h5><p>MIME是HTTP协议中的数据类型。</p>
<p>MIME的英文全称是”Multipurpose Internet Mail Extensions”多功能Internet邮件扩充服务。MIME类型的格式是“大类型/小类型”，并与某一种文件的扩展名想对应。</p>
<p><strong>常见的MIME类型</strong>：</p>
<table>
<thead>
<tr>
<th align="left">文件</th>
<th align="left">MIME类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">超文本标记语言文本</td>
<td align="left">.html,.htm  text/html</td>
</tr>
<tr>
<td align="left">普通文本</td>
<td align="left">.txt   text/plain</td>
</tr>
<tr>
<td align="left">RTF文本</td>
<td align="left">.rtf  application/rtf</td>
</tr>
<tr>
<td align="left">GIF图形</td>
<td align="left">.gif  image/gif</td>
</tr>
<tr>
<td align="left">JPEG图形</td>
<td align="left">.jpeg,.jpg   image/jpeg</td>
</tr>
<tr>
<td align="left">AU声音文件</td>
<td align="left">.au  audio/basic</td>
</tr>
<tr>
<td align="left">MIDI音乐文件</td>
<td align="left">.mid,.midi audio/midi,audio/x-midi</td>
</tr>
<tr>
<td align="left">RealAudio音乐文件</td>
<td align="left">.ra,.ram  audio/x-pn-realaudio</td>
</tr>
<tr>
<td align="left">MPEG文件</td>
<td align="left">.mpg,.mpeg video/mpeg</td>
</tr>
<tr>
<td align="left">AVI文件</td>
<td align="left">.avi  video/x-msvideo</td>
</tr>
<tr>
<td align="left">GZIP文件</td>
<td align="left">.gz  application/x-gzip</td>
</tr>
<tr>
<td align="left">TAR文件</td>
<td align="left">.tar  application/x-tar</td>
</tr>
</tbody></table>
<h3 id="HttpServletRequest类"><a href="#HttpServletRequest类" class="headerlink" title="HttpServletRequest类"></a>HttpServletRequest类</h3><h4 id="HttpServletRequest类有什么作用"><a href="#HttpServletRequest类有什么作用" class="headerlink" title="HttpServletRequest类有什么作用"></a>HttpServletRequest类有什么作用</h4><p>每次只要有请求进入tomcat服务器，tomcat服务器就会把请求过来的HTTP协议信息解析好封装到Request对象中。然后传递到service方法中（doGet和doPost）中给我们使用。我们可以通过HttpServletRequest对象，获取到所有请求的信息。</p>
<h4 id="HttpServletRequest类的常用方法"><a href="#HttpServletRequest类的常用方法" class="headerlink" title="HttpServletRequest类的常用方法"></a>HttpServletRequest类的常用方法</h4><table>
<thead>
<tr>
<th align="left">方法</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">getRequestURI()</td>
<td align="left">获取请求的资源路径</td>
</tr>
<tr>
<td align="left">getRequestURL()</td>
<td align="left">获取请求的统一资源定位符(绝对路径)</td>
</tr>
<tr>
<td align="left">getRemoteHost()</td>
<td align="left">获取客户端的ip地址</td>
</tr>
<tr>
<td align="left">getHeader()</td>
<td align="left">获取请求头</td>
</tr>
<tr>
<td align="left">getParameter()</td>
<td align="left">获取请求的参数</td>
</tr>
<tr>
<td align="left">getParameterValues()</td>
<td align="left">获取请求的参数(多个值的时候使用)</td>
</tr>
<tr>
<td align="left">getMethod()</td>
<td align="left">获取请求的方式</td>
</tr>
<tr>
<td align="left">setAttribute(Key, value)</td>
<td align="left">设置域数据</td>
</tr>
<tr>
<td align="left">getAttribute(Key)</td>
<td align="left">获取域数据</td>
</tr>
<tr>
<td align="left">getRequestDispatcher()</td>
<td align="left">获取请求转发对象</td>
</tr>
</tbody></table>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(name = &quot;RequestAPIServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RequestAPIServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        getRequestURI()|获取请求的资源路径</span></span><br><span class="line">        System.out.println(<span class="string">&quot;URI:&quot;</span>+request.getRequestURI());</span><br><span class="line"><span class="comment">//        getRequestURL()|获取请求的统一资源定位符(绝对路径)</span></span><br><span class="line">        System.out.println(<span class="string">&quot;URL:&quot;</span> + request.getRequestURL());</span><br><span class="line"><span class="comment">//        getRemoteHost()|获取客户端的ip地址</span></span><br><span class="line">        System.out.println(<span class="string">&quot;request ip:&quot;</span> + request.getRemoteHost());</span><br><span class="line"><span class="comment">//        getHeader()|获取请求头</span></span><br><span class="line">        System.out.println(<span class="string">&quot;User-Agent:&quot;</span> + request.getHeader(<span class="string">&quot;User-Agent&quot;</span>));</span><br><span class="line"><span class="comment">//        getMethod()|获取请求的方式</span></span><br><span class="line">        System.out.println(<span class="string">&quot;request method:&quot;</span> + request.getMethod());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="如何获取请求的参数值"><a href="#如何获取请求的参数值" class="headerlink" title="如何获取请求的参数值"></a>如何获取请求的参数值</h4><p>使用以下两个方法：</p>
<ul>
<li>getParameter()|获取请求的参数；</li>
<li>getParameterValues()|获取请求的参数(多个值的时候使用)。</li>
</ul>
<p><strong>中文乱码问题:</strong></p>
<ul>
<li><p>get方式：tomcat8已经将get方式的乱码问题解决了。</p>
</li>
<li><p>post方式：会乱码；</p>
<ul>
<li>解决方法：在获取参数前，设置request编码，<code>request.setCharacterEncoding(&quot;utf-8&quot;)</code>。</li>
</ul>
</li>
</ul>
<h4 id="请求的转发"><a href="#请求的转发" class="headerlink" title="请求的转发"></a>请求的转发</h4><p>什么是请求的转发？</p>
<ul>
<li>请求转发是指，服务器收到请求后，从一次资源跳转到另一个资源的操作叫请求转发</li>
</ul>
<p><strong>特点：</strong></p>
<ol>
<li>浏览器地址栏没有变化；</li>
<li>它们是一次请求；</li>
<li>它们共享Request域中的数据；</li>
<li>可以转发到WEB-INF目录下；</li>
<li>不可以访问工程以外的资源。</li>
</ol>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TransmitServlet1</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123; &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 获取参数（办事材料）查看</span></span><br><span class="line">        String username = request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;TransmitServlet1获取到参数：&quot;</span> + username);</span><br><span class="line">        <span class="comment">// 给材料盖一个章，并传给TransmitServlet2</span></span><br><span class="line">        request.setAttribute(<span class="string">&quot;key1&quot;</span>, <span class="string">&quot;TransmitServlet1的章&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取到去TransmitServlet2的路（请求转发），请求转发必须以斜杆开头，“/”表示地址为：http://ip:port/工程名/，映射到IDEA代码的web目录</span></span><br><span class="line">        RequestDispatcher requestDispatcher = request.getRequestDispatcher(<span class="string">&quot;/TransmitServlet2&quot;</span>);</span><br><span class="line">        <span class="comment">// 转发</span></span><br><span class="line">        requestDispatcher.forward(request,response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TransmitServlet2</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 获取参数（办事材料）查看</span></span><br><span class="line">        String username = request.getParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;TransmitServlet2获取到参数：&quot;</span> + username);</span><br><span class="line">        <span class="comment">// 查看TransmitServlet是否有盖章</span></span><br><span class="line">        Object key1 = request.getAttribute(<span class="string">&quot;key1&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;TransmitServlet1是否有章：&quot;</span> + key1);</span><br><span class="line">        <span class="comment">// 处理自己的业务</span></span><br><span class="line">        System.out.println(<span class="string">&quot;......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="base标签"><a href="#base标签" class="headerlink" title="base标签"></a>base标签</h4><p>base标签可以设置当前页面中所有相对路径工作时，参照哪个路径来进行跳转避免，转发后跳回目录出错。</p>
<h4 id="web中斜杆-的不同意义"><a href="#web中斜杆-的不同意义" class="headerlink" title="web中斜杆(/)的不同意义"></a>web中斜杆(/)的不同意义</h4><p>在web中”/“是一种绝对路径</p>
<p><code>/</code> 斜杆，如果被浏览器解析得到的是：<code>http://ip:port/</code></p>
<p><code>/</code> 斜杠，如果被服务器解析得到的是：<code>http://ip:port/工作路径/</code></p>
<ul>
<li><code>&lt;url-pattern&gt;/servlet1&lt;/url-pattern&gt;</code></li>
<li><code>servletContext.getRealPath(&quot;/&quot;)</code></li>
<li><code>request.getRequestDispatcher(&quot;/&quot;)</code></li>
</ul>
<p>特殊情况：<code>response.sendRedirect(&quot;/&quot;)</code>  把斜杆发送给服务器解析。</p>
<h3 id="HttpServletResponse类"><a href="#HttpServletResponse类" class="headerlink" title="HttpServletResponse类"></a>HttpServletResponse类</h3><h4 id="HttpServletResponse类的作用"><a href="#HttpServletResponse类的作用" class="headerlink" title="HttpServletResponse类的作用"></a>HttpServletResponse类的作用</h4><p>HttpServletRequest类和HttpServletResponse类一样。每次请求进来，Tomcat服务都会创建一个Response对象传递给Servlet程序。<strong>HttpServletRequest表示请求过来的信息，HttpServletResponse表示所有响应的信息</strong>。</p>
<p>我们如果需要设置返回给客户端的的消息，都可以通过HttpServletResponse对象来进行设置。</p>
<h4 id="两个输出流的说明"><a href="#两个输出流的说明" class="headerlink" title="两个输出流的说明"></a>两个输出流的说明</h4><ul>
<li>字节流 getOutputStream():常用于下载(传递二进制数据) 。</li>
<li>字符流 getWriter():常用于回传字符串(常用)。</li>
</ul>
<blockquote>
<p> 注意：两个流同时只能使用一个。</p>
</blockquote>
<h4 id="如何往客户端回传数据"><a href="#如何往客户端回传数据" class="headerlink" title="如何往客户端回传数据"></a>如何往客户端回传数据</h4><p>示例：往客户端回传 字符串 数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseIOServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>&#123;</span><br><span class="line">    <span class="meta">@Overrid</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpSerevletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException</span>&#123;</span><br><span class="line">        PrintWriter writer = resp.getWriter();</span><br><span class="line">        writer.write(<span class="string">&quot;response&#x27;s content!!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="回传中文乱码"><a href="#回传中文乱码" class="headerlink" title="回传中文乱码"></a>回传中文乱码</h4><ol>
<li><code>PrintWriter pw = response.getWriter();</code>；</li>
<li>设置该流的编码；</li>
<li>告诉浏览器响应体使用的编码。</li>
</ol>
<blockquote>
<p> 简单的形式：设置编码，在<strong>获取流之前设置</strong></p>
<p><code>response.setContentType(&quot;text/html;charset=utf-8&quot;);</code></p>
</blockquote>
<h4 id="请求重定向"><a href="#请求重定向" class="headerlink" title="请求重定向"></a>请求重定向</h4><p>请求重定向，是指客户端服务器发送请求，然后服务器告诉客户端说，我给你一些地址，你去新地址访问，叫请求重定向(可能之前的地址可能被废弃了)。</p>
<p><strong>特点：</strong></p>
<ol>
<li>浏览器地址栏会发生变化；</li>
<li>两次请求；</li>
<li>response对象的域数据不会共享；</li>
<li>不能访问WEB-INF目录下的资源；</li>
<li>可以访问工程外的资源。</li>
</ol>
<p><strong>示例</strong>:</p>
<p>方案一：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseIOServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>&#123;</span><br><span class="line">    <span class="meta">@Overrid</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpSerevletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException</span>&#123;</span><br><span class="line">        <span class="comment">// 设置状态码302，表示重定向（已搬迁）</span></span><br><span class="line">        resp.setStatus(<span class="number">302</span>);</span><br><span class="line">        <span class="comment">// 设置响应头，说明新的地址在哪里</span></span><br><span class="line">        resp.setHeader(<span class="string">&quot;location&quot;</span>, <span class="string">&quot;http://localhost:8080&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>方案二：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseIOServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>&#123;</span><br><span class="line">    <span class="meta">@Overrid</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpSerevletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException</span>&#123;</span><br><span class="line">        resp.sendRedirect(<span class="string">&quot;http://localhost:8080&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="JavaEE的三层架构"><a href="#JavaEE的三层架构" class="headerlink" title="JavaEE的三层架构"></a>JavaEE的三层架构</h3><p>三层架构：软件设计的一种架构</p>
<ol>
<li><p>界面层（表示层、web层）：用户看的界面，用户可以通过界面上的组件和服务器进行交互；</p>
</li>
<li><p>业务逻辑层(Service)：处理业务逻辑的；</p>
</li>
<li><p>数据访问层(Dao)：操作数据存储文件。</p>
</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" alt="三层架构示意图"></p>
<blockquote>
<p>分层的目的是为了解耦。解耦就是为了减低代码的耦合度。方便项目后期的维护和升级。</p>
</blockquote>
<p><strong>三层架构的常见目录结构</strong>：</p>
<ul>
<li>web层    <ul>
<li>com.example.web/servlet/controller</li>
</ul>
</li>
<li>service层    <ul>
<li>com.example.service     service接口包</li>
<li>com.example.service.impl    service接口实现包</li>
</ul>
</li>
<li>dao层    <ul>
<li>com.example.dao     dao接口包</li>
<li>com.example.dao.impl    dao接口实现类</li>
</ul>
</li>
<li>实体bean对象    <ul>
<li>com.example.pojo/entity/domain/bean   JavaBean类</li>
</ul>
</li>
<li>测试包 <ul>
<li>com.example.test/junit</li>
</ul>
</li>
<li>工具类包    <ul>
<li>com.example.utils</li>
</ul>
</li>
</ul>
<h2 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h2><h3 id="什么是JSP及其作用"><a href="#什么是JSP及其作用" class="headerlink" title="什么是JSP及其作用"></a>什么是JSP及其作用</h3><p>jsp(java server page)，java的服务器页面；</p>
<p>jsp的主要作用是代替Servlet程序回传html页面的数据；</p>
<p>因为Servlet程序回传html页面数据是一件非常繁琐的事情。开发成本和维护成本都极高；</p>
<p>jsp页面和html页面一样，都是存放在web目录下的。</p>
<h3 id="JSP的本质是什么"><a href="#JSP的本质是什么" class="headerlink" title="JSP的本质是什么?"></a>JSP的本质是什么?</h3><p>jsp的<strong>本质就是Servlet程序</strong>。</p>
<p>当我们第一次访问jsp页面的时候，Tomcat服务器会帮我们把jsp页面翻译成为一个java源文件，并且对它进行编译成为.class字节码程序。</p>
<h3 id="JSP常用指令"><a href="#JSP常用指令" class="headerlink" title="JSP常用指令"></a>JSP常用指令</h3><p>格式：<code>&lt;%@ 指令名称 属性名1=属性值1 属性名2=属性值2 %&gt;</code>。</p>
<p>作用：用于配置JSP页面，导入资源文件。</p>
<h4 id="JSP头部的page指令"><a href="#JSP头部的page指令" class="headerlink" title="JSP头部的page指令"></a>JSP头部的page指令</h4><p>jap的page指令可以修改jsp页面中的一些重要属性，或者行为。</p>
<p><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;</code></p>
<p><strong>属性表</strong>：</p>
<table>
<thead>
<tr>
<th align="left">属性</th>
<th align="left">作用</th>
</tr>
</thead>
<tbody><tr>
<td align="left">language</td>
<td align="left">表示jsp翻译后是什么语言文件，暂时只支持java</td>
</tr>
<tr>
<td align="left"><strong>contentType</strong></td>
<td align="left">表示jsp返回的数据类型是啥，也就是源码中response.setContentType()参数值</td>
</tr>
<tr>
<td align="left">pageEncoding</td>
<td align="left">表示当前jsp页面文件本身的字符集</td>
</tr>
<tr>
<td align="left"><strong>import</strong></td>
<td align="left">跟java源代码一样，用于导包，导类</td>
</tr>
<tr>
<td align="left">autoFlush</td>
<td align="left">设置当out输出流缓冲区满了之后，是否自动刷新冲级区，默认是true</td>
</tr>
<tr>
<td align="left">buffer</td>
<td align="left">设置out缓区去大小，默认是8kb</td>
</tr>
<tr>
<td align="left"><strong>errorPage</strong></td>
<td align="left">设置当前jsp页面运行时出错，自动跳转去的错误页面路径</td>
</tr>
<tr>
<td align="left"><strong>isErrorPage</strong></td>
<td align="left">设置当前jsp页面是否是错误页面，默认是false。如果是true则可以获取异常信息</td>
</tr>
<tr>
<td align="left">session</td>
<td align="left">设者访问当前jsp页面，是否会创建HttpSession对象。默认是true</td>
</tr>
<tr>
<td align="left">extends</td>
<td align="left">设置jsp翻译出来的java类默认继承</td>
</tr>
</tbody></table>
<h3 id="JSP脚本"><a href="#JSP脚本" class="headerlink" title="JSP脚本"></a>JSP脚本</h3><h4 id="声明脚本-极少使用"><a href="#声明脚本-极少使用" class="headerlink" title="声明脚本(极少使用)"></a>声明脚本(极少使用)</h4><p>格式：<code>&lt;%! Java代码 %&gt;</code> ===&gt; 定义的Java代码，在jsp转换后的Java类的成员位置</p>
<p><strong>示例</strong>：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.Map&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.HashMap&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">&lt;%--  练习：--%&gt;</span><br><span class="line">&lt;%--    <span class="number">1.</span> 声明类属性--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Object&gt; map;</span><br><span class="line">  %&gt;</span><br><span class="line">&lt;%--    <span class="number">2.</span> 声明<span class="keyword">static</span>静态代码块--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">      map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">      map.put(<span class="string">&quot;key1&quot;</span>, <span class="string">&quot;value1&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&quot;key2&quot;</span>, <span class="string">&quot;value1&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&quot;key3&quot;</span>, <span class="string">&quot;value1&quot;</span>);</span><br><span class="line">      map.put(<span class="string">&quot;key4&quot;</span>, <span class="string">&quot;value1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line">&lt;%--    <span class="number">3.</span> 声明类方法--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">abc</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">123456</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line">&lt;%--    <span class="number">4.</span> 声明内部类--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">      <span class="keyword">private</span> String name = <span class="string">&quot;AAA&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h4 id="表达式脚本-常用"><a href="#表达式脚本-常用" class="headerlink" title="表达式脚本(常用)"></a>表达式脚本(常用)</h4><p>格式：<code>&lt;%= Java代码 %&gt;</code> ===&gt; 定义的Java代码，会输出到页面上。输出语句中可以定义什么，该脚本中就可以定义什么。</p>
<p><strong>特点</strong>：</p>
<ol>
<li>所有的表达式脚本都会被翻译到_jspService方法中；</li>
<li>表达式脚本都会被翻译成为out.print()输出到页面上；</li>
<li>由于表达式脚本翻译的内容在_jspService()方法中，所以_jspService()方法中的对象都可以直接使用；</li>
<li>表达式脚本中的表达式不能以分号结束。</li>
</ol>
<p><strong>示例</strong>：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;	</span><br><span class="line">      &lt;%--练习：--%&gt;</span><br><span class="line">      &lt;%--  <span class="number">1.</span> 输出整型--%&gt;</span><br><span class="line">      &lt;%=<span class="number">12</span> %&gt; &lt;br&gt;</span><br><span class="line">      &lt;%--  <span class="number">2.</span> 输出浮点型--%&gt;</span><br><span class="line">      &lt;%=<span class="number">12.3</span> %&gt; &lt;br&gt;</span><br><span class="line">      &lt;%--  <span class="number">3.</span> 输出字符串--%&gt;</span><br><span class="line">      &lt;%=<span class="string">&quot;I&#x27;m String&quot;</span> %&gt; &lt;br&gt;</span><br><span class="line">      &lt;%--  <span class="number">4.</span> 输出对象--%&gt;</span><br><span class="line">      &lt;%=<span class="keyword">new</span> ArrayList&lt;Integer&gt;() %&gt; &lt;br&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h4 id="代码脚本"><a href="#代码脚本" class="headerlink" title="代码脚本"></a>代码脚本</h4><p>格式：<code>&lt;% Java代码 %&gt;</code> ===&gt; 定义的Java代码，在service方法中。service方法中可以定义什么，该脚本就可以定义什么。</p>
<p><strong>特点</strong>：</p>
<ol>
<li>代码脚本翻译之后都在_jspService`方法中；</li>
<li>由于表达式脚本翻译的内容在_jspService()方法中，所以在_jspService()方法中的现有对象都可以直接使用；</li>
<li>还可以有多个代码脚本块组合完成一个完整的java语句；</li>
<li>代码脚本还可以和表达式脚本组合使用。</li>
</ol>
<p><strong>示例</strong>：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%--练习：--%&gt;</span><br><span class="line">&lt;%--  <span class="number">1.</span> 代码脚本---<span class="keyword">if</span>语句 --%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">12</span>) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;yes&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%--  <span class="number">2.</span> 代码脚本---<span class="keyword">for</span>循环语句 --%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i1 = <span class="number">0</span>; i1 &lt; i; i1++) &#123;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">        System.out.print(i1 + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%--  <span class="number">3.</span> 翻译后java文件中_jspSerevice方法内的代码都可以写 --%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    request.setAttribute(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;value&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h3 id="JSP中的三种注释"><a href="#JSP中的三种注释" class="headerlink" title="JSP中的三种注释"></a>JSP中的三种注释</h3><ol>
<li><p>html注释： <code>&lt;!-- 注释内容，只能注释html代码片段 --&gt;</code>；</p>
<ul>
<li>html注释，会被翻译到java源代码中。在_jspService()方法里面，以out.writer()输出到客户端。</li>
</ul>
</li>
<li><p>java注释：</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// 单行java注释</span></span><br><span class="line">    <span class="comment">/* 多行java注释 */</span></span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>java注释会被翻译到java源代码中。</li>
</ul>
</li>
<li><p>jsp注释(推荐使用)：<code>&lt;%-- 注释内容，能注释所有 --%&gt;</code>。</p>
<ul>
<li>jsp注释可以注释掉jsp页面中所有代码。</li>
</ul>
</li>
</ol>
<h3 id="JSP中的九大内置对象"><a href="#JSP中的九大内置对象" class="headerlink" title="JSP中的九大内置对象"></a>JSP中的九大内置对象</h3><p>在jsp页面中不需要创建，直接使用的对象。</p>
<table>
<thead>
<tr>
<th>变量名</th>
<th>真实类型</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>PageContext</td>
<td>jsp上下文对象，当前页面共享数据还可以获取其他八个内置对象。</td>
</tr>
<tr>
<td>request</td>
<td>HttpServletRequest</td>
<td>请求对象，一次请求访问的多个资源。</td>
</tr>
<tr>
<td>session</td>
<td>HttpSession</td>
<td>会话对象，一次会话的多个请求间。</td>
</tr>
<tr>
<td>application</td>
<td>ServletContext</td>
<td>所有用户间共享数据。</td>
</tr>
<tr>
<td>response</td>
<td>HttpServletResponse</td>
<td>响应对象。</td>
</tr>
<tr>
<td>page</td>
<td>Object</td>
<td>当前页面jsp(Servlet)的对象(this)。</td>
</tr>
<tr>
<td>out</td>
<td>JspWriter</td>
<td>输出对象。</td>
</tr>
<tr>
<td>config</td>
<td>ServletConfig</td>
<td>Servlet的配置对象。</td>
</tr>
<tr>
<td>exception</td>
<td>Throwable</td>
<td>异常对象。</td>
</tr>
</tbody></table>
<h3 id="JSP四大域对象"><a href="#JSP四大域对象" class="headerlink" title="JSP四大域对象"></a>JSP四大域对象</h3><p>四大域对象：</p>
<ul>
<li>pageContext(PageContext类对象)；</li>
<li>request(HttpServletRequest)；</li>
<li>session(HttpSession)；</li>
<li>application(ServletContext)。</li>
</ul>
<table>
<thead>
<tr>
<th>域对象变量名</th>
<th>类型</th>
<th>作用范围</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>PageContext</td>
<td>当前jsp页面范围内有效。</td>
</tr>
<tr>
<td>request</td>
<td>HttpServletReques</td>
<td>一次请求内有效。</td>
</tr>
<tr>
<td>session</td>
<td>HttpSession</td>
<td>一个会话范围内有效。</td>
</tr>
<tr>
<td>application</td>
<td>ServletContext</td>
<td>整个web工程范围内都有效(只要web工程不停止，数据都在)。</td>
</tr>
</tbody></table>
<blockquote>
<p>域对象式可以像Map一样存取数据的对象。四个域对象功能一样。不同的是，它们对数据的存取范围。</p>
<p>虽然，四个域对象都可以存取数据，但是在使用上，它们是有优先顺序的。</p>
<p>四个域在使用的时候，优先顺序分别是，它们的作用范围从小到大的顺序：pageContext ==&gt; request ==&gt; session ==&gt; application。</p>
</blockquote>
<h3 id="JSP中的out输出和response-getWriter输出的区别"><a href="#JSP中的out输出和response-getWriter输出的区别" class="headerlink" title="JSP中的out输出和response.getWriter输出的区别"></a>JSP中的out输出和response.getWriter输出的区别</h3><ul>
<li><p>response中表示响应，我们经常用于设置返回给客户端的内容(输出)。</p>
</li>
<li><p>out也是给用户做输出使用的。</p>
</li>
</ul>
<p><strong>区别</strong>：</p>
<p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/out%E4%B8%8Eresponse.getWriter%E5%8C%BA%E5%88%AB.jpg" alt="1-4"></p>
<p>由于jsp翻译后，底层源代码都是使用out来进行输出，所以一般情况下。我们在jsp页面中同统一使用out来进行输出，避免打乱输出内容的情况。</p>
<blockquote>
<p>out.write() 输出字符串没有问题。<br>out.print() 输出任何数据都没有问题(因为都会换成为字符后调用write输出)。</p>
<p>jsp页面中，可以统一使用out.print()来进行输出。</p>
</blockquote>
<h3 id="JSP的常用标签"><a href="#JSP的常用标签" class="headerlink" title="JSP的常用标签"></a>JSP的常用标签</h3><h4 id="jsp静态包含"><a href="#jsp静态包含" class="headerlink" title="jsp静态包含"></a>jsp静态包含</h4><p>格式：<code>&lt;%@ include file=&quot;&quot; %&gt;</code></p>
<ul>
<li>file属性指定你要包含的jsp页面的路径</li>
</ul>
<p>特点：</p>
<ol>
<li>静态包含不会翻译被包含的jsp页面</li>
<li>静态包含其实是把包含的jsp页面的代码拷贝被到包含的位置执行输出</li>
</ol>
<h4 id="jsp动态包含"><a href="#jsp动态包含" class="headerlink" title="jsp动态包含"></a>jsp动态包含</h4><p>格式：<code>&lt;jsp:include page=&quot;&quot;&gt;&lt;/jsp:include&gt;</code></p>
<ul>
<li>page属性指定你要包含的jsp页面的路径</li>
</ul>
<p>动态包含也可以向静态包含一样，把被包含的内容执行输出到包含位置</p>
<p>特点：</p>
<ol>
<li>动态包含会把包含的jsp页面也翻译成为java代码</li>
<li>动态包含底层代码使用如下：<code>JspRuntimeLibrary.inclue(request, response, &quot;filepath&quot;, out, false);</code>，去调用被包含的jsp页面执行输出</li>
<li>动态包含还可以传递参数</li>
</ol>
<h4 id="jsp标签-转发"><a href="#jsp标签-转发" class="headerlink" title="jsp标签-转发"></a>jsp标签-转发</h4><p>格式：<code>&lt;jsp:forward page=&quot;&quot;&gt;&lt;/jsp:forward&gt;</code> </p>
<ul>
<li>请求转发</li>
<li>page属性指定请求转发的jsp页面的路径</li>
</ul>
<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><ol>
<li><p>在JSP页面中输出九九乘法表：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%-- 在JSP页面中输出九九乘法表 --%&gt;</span><br><span class="line">&lt;table&gt;</span><br><span class="line"> &lt;% <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123; %&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;% <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123; %&gt;</span><br><span class="line">        &lt;td&gt;&lt;%=j + &quot;x&quot; + i + &quot;=&quot; + (i * j)%&gt;&lt;/td&gt;</span><br><span class="line">&lt;%      &#125;%&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;%  &#125;%&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>JSP输出一个表格，里面有10个学生信息：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%--JSP输出一个表格，里面有<span class="number">10</span>个学生信息--%&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        List&lt;Student&gt; studentsList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> id = i + <span class="number">1</span>;</span><br><span class="line">            studentsList.add(<span class="keyword">new</span> Student(id, <span class="string">&quot;name&quot;</span>+id, <span class="number">18</span>+id, <span class="string">&quot;phone&quot;</span>+id));</span><br><span class="line">        &#125;</span><br><span class="line">    %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;table&gt;</span><br><span class="line">        &lt;% <span class="keyword">for</span> (Student student : studentsList) &#123; %&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;&lt;%=student.getId()%&gt;&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;%=student.getName()%&gt;&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;%=student.getAge()%&gt;&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;%=student.getPhone()%&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">         &lt;%   &#125;%&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="Listener"><a href="#Listener" class="headerlink" title="Listener"></a>Listener</h2><h3 id="什么是listener监听器"><a href="#什么是listener监听器" class="headerlink" title="什么是listener监听器"></a>什么是listener监听器</h3><ul>
<li>Listener是JavaEE规范之一(规范就是接口)；</li>
<li>Listener就是JavaWeb三大组件之一(三大组件：Servlet程序、Filter过滤器、Listener监听器)；</li>
<li>Listener的作用是：监听某种事物的变化，然后通过回调函数，反馈给客户（程序）去做一些响应的处理。</li>
</ul>
<h3 id="ServletContextListener监听器"><a href="#ServletContextListener监听器" class="headerlink" title="ServletContextListener监听器"></a>ServletContextListener监听器</h3><p>ServletContextListener它可以监听ServletContext对象的创建和销毁。</p>
<p>ServletContext对象在web工程启动的时候创建，在web工程停止的时候销毁。</p>
<p>监听到创建和销毁后都会分别调用ServletContextListener监听器的方法反馈，这两个方法分别是：</p>
<ul>
<li><code>void contextInitialized(ServletContextEvent var1);</code>：在ServletContext的对象创建之后马上调用，做初始化；</li>
<li><code>void contextDestroyed(ServletContextEvent var1);</code>：在ServletContext对象销毁之后调用。</li>
</ul>
<h4 id="如何使用ServletContextListener监听器"><a href="#如何使用ServletContextListener监听器" class="headerlink" title="如何使用ServletContextListener监听器"></a>如何使用ServletContextListener监听器</h4><p>使用步骤如下：</p>
<ol>
<li><p>编写一个类去实现ServletContextListener；</p>
</li>
<li><p>实现其两个回调方法；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServletContextListenerImpl</span> <span class="keyword">implements</span> <span class="title">ServletContextListener</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextInitialized</span><span class="params">(ServletContextEvent servletContextEvent)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletContext对象被创建了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">       </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextDestroyed</span><span class="params">(ServletContextEvent servletContextEvent)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ServletContext对象被销毁了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在web.xml中去配置监听器：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.example.listener.MyServletContextListenerImpl<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>



</li>
</ol>
<h2 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h2><h3 id="什么是EL表达式及其作用"><a href="#什么是EL表达式及其作用" class="headerlink" title="什么是EL表达式及其作用"></a>什么是EL表达式及其作用</h3><p>什么是EL表达式？</p>
<ul>
<li>EL表达式(Expression Language)，是表达式语言</li>
</ul>
<p>EL表达式的作用？</p>
<ul>
<li>EL表达式主要是代替jsp页面中的表达式脚本在jsp页面中进行数据的输出</li>
<li>因为EL表达式在输出数据的时候要比JSP的表达式要简洁的多</li>
</ul>
<p>格式： <code>$&#123;表达式&#125;</code>。</p>
<blockquote>
<p>EL表达式在输出null值的时候，输出的是空串。jsp表达式脚本输出的是null字符串</p>
</blockquote>
<h3 id="EL表达式搜索域数据的顺序"><a href="#EL表达式搜索域数据的顺序" class="headerlink" title="EL表达式搜索域数据的顺序"></a>EL表达式搜索域数据的顺序</h3><p>EL表达式主要是在jsp页面中输出<strong>域对象</strong>的数据。</p>
<p>当四个域中有相同的key的数据的时候，EL表达式会按照四个域的从小到大的作用范围的顺序去搜索。</p>
<h3 id="EL表达式输出Bean的普通属性、数组属性、List组合属性和map集合属性"><a href="#EL表达式输出Bean的普通属性、数组属性、List组合属性和map集合属性" class="headerlink" title="EL表达式输出Bean的普通属性、数组属性、List组合属性和map集合属性"></a>EL表达式输出Bean的普通属性、数组属性、List组合属性和map集合属性</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;EL Demo&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;%</span><br><span class="line">            Person p = <span class="keyword">new</span> Person();</span><br><span class="line">            p.setName(<span class="string">&quot;Jerry&quot;</span>);</span><br><span class="line">            p.setPhones(<span class="keyword">new</span> String[]&#123;<span class="string">&quot;123465&quot;</span>, <span class="string">&quot;654321&quot;</span>, <span class="string">&quot;153462&quot;</span>&#125;);</span><br><span class="line"></span><br><span class="line">            List&lt;String&gt; cities = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">            cities.add(<span class="string">&quot;北京&quot;</span>);</span><br><span class="line">            cities.add(<span class="string">&quot;上海&quot;</span>);</span><br><span class="line">            cities.add(<span class="string">&quot;长沙&quot;</span>);</span><br><span class="line">            p.setCities(cities);</span><br><span class="line"></span><br><span class="line">            Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">            map.put(<span class="string">&quot;k1&quot;</span>, <span class="string">&quot;v1&quot;</span>);</span><br><span class="line">            map.put(<span class="string">&quot;k2&quot;</span>, <span class="string">&quot;v2&quot;</span>);</span><br><span class="line">            map.put(<span class="string">&quot;k3&quot;</span>, <span class="string">&quot;v3&quot;</span>);</span><br><span class="line">            p.setMap(map);</span><br><span class="line"></span><br><span class="line">            pageContext.setAttribute(<span class="string">&quot;person&quot;</span>, p);</span><br><span class="line">        %&gt;</span><br><span class="line"></span><br><span class="line">        输出person:$&#123; person &#125;&lt;br /&gt;</span><br><span class="line">        输出person的name属性:$&#123; person.name &#125;&lt;br /&gt;</span><br><span class="line">        输出person的phones属性:$&#123; person.phones &#125;&lt;br /&gt;</span><br><span class="line">        输出person的phones属性的第一个值:$&#123; person.phones[<span class="number">0</span>] &#125;&lt;br /&gt;</span><br><span class="line">        输出person的cities属性:$&#123; person.cities &#125;&lt;br /&gt;</span><br><span class="line">        输出person的cities属性中的第一个值:$&#123; person.cities[<span class="number">0</span>] &#125;&lt;br /&gt;</span><br><span class="line">        输出person的map属性:$&#123; person.map &#125;&lt;br /&gt;</span><br><span class="line">        输出person的map属性中的第一个值:$&#123; person.map.k1 &#125;&lt;br /&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>EL表达式去获取Bean的属性值，不是通过属性获取，而是通过getter获取。</p>
<ul>
<li>当persion类中，没有声明age属性，但是有getAge()方法，EL表达式也可以通过p.age获取到值。</li>
</ul>
</blockquote>
<h3 id="EL表达式运算"><a href="#EL表达式运算" class="headerlink" title="EL表达式运算"></a>EL表达式运算</h3><h4 id="关系运算"><a href="#关系运算" class="headerlink" title="关系运算"></a>关系运算</h4><table>
<thead>
<tr>
<th align="left">关系运算符</th>
<th align="left">说明</th>
<th align="left">举例</th>
<th align="left">结果</th>
</tr>
</thead>
<tbody><tr>
<td align="left">== 或 eq</td>
<td align="left">等于</td>
<td align="left">${5==5} 或 ${5 eq 5}</td>
<td align="left">true</td>
</tr>
<tr>
<td align="left">!= 或 ne</td>
<td align="left">不等于</td>
<td align="left">${5!=5} 或 ${5 ne 5}</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left">&lt; 或 lt</td>
<td align="left">小于</td>
<td align="left">${5&lt;5} 或 ${5 lt 5}</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left">&gt; 或 gt</td>
<td align="left">大于</td>
<td align="left">${5&gt;5} 或 ${5 gt 5}</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left">&lt;= 或 le</td>
<td align="left">小于等于</td>
<td align="left">${5&lt;=5} 或 ${5 le 5}</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left">=&gt; 或 ge</td>
<td align="left">大于等于</td>
<td align="left">${5&gt;=5} 或 ${5 ge 5}</td>
<td align="left">true</td>
</tr>
</tbody></table>
<h4 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h4><table>
<thead>
<tr>
<th align="left">逻辑运算符</th>
<th align="left">说明</th>
<th align="left">举例</th>
<th align="left">结果</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;&amp; 或 and</td>
<td align="left">与运算</td>
<td align="left">${12 == 12 &amp;&amp; 12 &lt; 11} 或 ${12 == 12 and 12 &lt; 11}</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left">&#124;&#124; 或 or</td>
<td align="left">或运算</td>
<td align="left">${12 == 12 &#124;&#124; 12 &lt; 11} 或 ${12 == 12 or 12 &lt; 11}</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left">! 或 not</td>
<td align="left">取反运算</td>
<td align="left">${!ture} 或 ${not true}</td>
<td align="left">false</td>
</tr>
</tbody></table>
<blockquote>
<p>&amp;#124 ;  转义为 ‘|’</p>
</blockquote>
<h4 id="算数运算"><a href="#算数运算" class="headerlink" title="算数运算"></a>算数运算</h4><table>
<thead>
<tr>
<th align="left">算数运算符</th>
<th align="left">说明</th>
<th align="left">举例</th>
<th align="left">结果</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">加法</td>
<td align="left">${12+18}</td>
<td align="left">30</td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">减法</td>
<td align="left">${18-12}</td>
<td align="left">6</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">乘法</td>
<td align="left">${2*3}</td>
<td align="left">6</td>
</tr>
<tr>
<td align="left">/ 或 div</td>
<td align="left">除法</td>
<td align="left">${12 / 2} 或 ${12 div 2}</td>
<td align="left">6</td>
</tr>
<tr>
<td align="left">% 或 mod</td>
<td align="left">取模</td>
<td align="left">${12 % 5} 或 ${12 mod 5}</td>
<td align="left">2</td>
</tr>
</tbody></table>
<h4 id="empty运算"><a href="#empty运算" class="headerlink" title="empty运算"></a>empty运算</h4><p>empty可以判断一个数据是否为空，如果为空则输出true，反之则为false。</p>
<p>以下几种为空的情况：</p>
<ol>
<li>值为null值的时候；</li>
<li>值为空串的时候；</li>
<li>值是Object类型数据，长度为零的时候；</li>
<li>list集合元素个数为零；</li>
<li>map集合语速个数为零。</li>
</ol>
<h4 id="三元运算"><a href="#三元运算" class="headerlink" title="三元运算"></a>三元运算</h4><p>格式：<code>表达式1?表达式2:表达式3</code>。</p>
<ul>
<li>如果表达式1的值为true，则返回表达式2的值；如果表达式1的值为false，则返回表达式3的值。</li>
</ul>
<p>示例：<code>$&#123;1 == 1? &quot;yes&quot;:&quot;no&quot;&#125;</code></p>
<h4 id="点运算和中括号运算"><a href="#点运算和中括号运算" class="headerlink" title="点运算和中括号运算"></a>点运算和中括号运算</h4><p><code>.</code>点运算，可以输出Bean对象中某个属性的值。</p>
<p><code>[]</code>中括号运算，可以输出有序集合中某个元素的值，并且[]中括号运算，还可以输出map集合中key里含有特殊字符的key的值。</p>
<h4 id="EL表达式的11个隐含对象"><a href="#EL表达式的11个隐含对象" class="headerlink" title="EL表达式的11个隐含对象"></a>EL表达式的11个隐含对象</h4><p>EL表达式中11个隐含对象，是EL表达式中自己定义的，可以直接使用，如下:</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>类型</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>pageContext</td>
<td>PageContextImpl</td>
<td>它可以获取jsp中九大内置对象。</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>pageScope</td>
<td>Map&lt;String,Object&gt;</td>
<td>它可以获取PageContext域中的数据。</td>
</tr>
<tr>
<td>requetsScope</td>
<td>Map&lt;String,Object&gt;</td>
<td>它可以获取Request域中的数据。</td>
</tr>
<tr>
<td>SessionScope</td>
<td>Map&lt;String,Object&gt;</td>
<td>它可以获取Session域中的数据。</td>
</tr>
<tr>
<td>applicationScope</td>
<td>Map&lt;String,Object&gt;</td>
<td>它可以获取ServletContext域中的数据。</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>param</td>
<td>Map&lt;String,Object&gt;</td>
<td>它可以获取请求参数的值。</td>
</tr>
<tr>
<td>paramValues</td>
<td>Map&lt;String,Object[]&gt;</td>
<td>它也可以获取请求参数的值，获取多个值的时候使用。</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>header</td>
<td>Map&lt;String,Object&gt;</td>
<td>它可以获取请求头的信息。</td>
</tr>
<tr>
<td>headerValues</td>
<td>Map&lt;String,Object[]&gt;</td>
<td>它也可以获取请求头的信息，它可以获取多个值的信息。</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>cookie</td>
<td>Map&lt;String,Object&gt;</td>
<td>它可以获取当前请求的Cookies信息。</td>
</tr>
<tr>
<td>initParam</td>
<td>Map&lt;String,Object[]&gt;</td>
<td>它可以获取在web.xml中配置的<code>&lt;context-param&gt;</code>上下文参数。</td>
</tr>
</tbody></table>
<h4 id="EL获取四个特定域中的属性"><a href="#EL获取四个特定域中的属性" class="headerlink" title="EL获取四个特定域中的属性"></a>EL获取四个特定域中的属性</h4><p>pageScope   ===   PageContext域<br>requestScope   ===   Request域<br>SessionScope   ===   Session域<br>applicationScope   ===   ServletContext域</p>
<h4 id="pageContext对象的使用"><a href="#pageContext对象的使用" class="headerlink" title="pageContext对象的使用"></a>pageContext对象的使用</h4><p>通过pageContext可以获取到一下信息：</p>
<ol>
<li>协议：<code>$&#123;pageContext.request.scheme&#125;</code>；</li>
<li>服务器ip:<code>$&#123;pageContext.request.serverName&#125;</code>；</li>
<li>服务器端口：<code>$&#123;pageContext.request.serverPort&#125;</code>；</li>
<li><strong>获取工程路径:</strong><code>$&#123;pageContext.request.contextPath&#125;</code>；</li>
<li>获取请求方法:<code>$&#123;pageContext.requets.method&#125;</code>；</li>
<li>获取客户端ip地址：<code>$&#123;pageContext.requets.remoteHost&#125;</code>；</li>
<li>获取会话的id编号：<code>$&#123;pageContext.session.id&#125;</code>。</li>
</ol>
<h4 id="EL表达式其它隐含对象的使用"><a href="#EL表达式其它隐含对象的使用" class="headerlink" title="EL表达式其它隐含对象的使用"></a>EL表达式其它隐含对象的使用</h4><ol>
<li><p>header和headerValues</p>
<ul>
<li>输出请求头【User-Agent】的值：<code>$&#123;header[&quot;User-Agent&quot;]&#125;</code></li>
<li>输出请求头【Connection】的值：<code>$&#123;header.connection&#125;</code></li>
<li>输出请求头【User-Agent】的值：<code>$&#123;headerValues[&quot;User-Agent&quot;][0]&#125;</code></li>
</ul>
</li>
<li><p>cookie</p>
<ul>
<li>获取Cookie的名称：<code>$&#123;cookie.JSESSIONID.name&#125;</code></li>
<li>获取Cookies的值：<code>$&#123;cookies.JESSIONID.value&#125;</code></li>
</ul>
</li>
<li><p>initParam</p>
<ul>
<li>获取web.xml中配置的<code>&lt;context-param&gt;</code>上下文参数:<code>$&#123;initParam&#125;</code></li>
</ul>
</li>
</ol>
<h2 id="JSTL标签库"><a href="#JSTL标签库" class="headerlink" title="JSTL标签库"></a>JSTL标签库</h2><h3 id="什么是JSTL标签库"><a href="#什么是JSTL标签库" class="headerlink" title="什么是JSTL标签库"></a>什么是JSTL标签库</h3><p>JSTL(JSP Standard Tag Library)，JSP标准标签库，是一个不断完善的开放源码的JSP标签库。</p>
<p>EL表达式主要是为了替换JSP中的表达式脚本，而标签库则是为了替换代码脚本，使得JSP页面变得更加简洁。</p>
<h3 id="JSTL由五个不同功能的标签库组成"><a href="#JSTL由五个不同功能的标签库组成" class="headerlink" title="JSTL由五个不同功能的标签库组成"></a>JSTL由五个不同功能的标签库组成</h3><table>
<thead>
<tr>
<th align="left">功能范围</th>
<th align="left">URI</th>
<th align="left">前缀</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>核心标签库(重点)</strong></td>
<td align="left"><a target="_blank" rel="noopener" href="http://java.sum.com/jsp/jstl/core">http://java.sum.com/jsp/jstl/core</a></td>
<td align="left"><strong>c</strong></td>
</tr>
<tr>
<td align="left">格式化</td>
<td align="left"><a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/fmt">http://java.sun.com/jsp/jstl/fmt</a></td>
<td align="left">fmt</td>
</tr>
<tr>
<td align="left">函数</td>
<td align="left"><a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/functions">http://java.sun.com/jsp/jstl/functions</a></td>
<td align="left">fn</td>
</tr>
<tr>
<td align="left">数据库(<em>不使用</em>)</td>
<td align="left"><a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/sql">http://java.sun.com/jsp/jstl/sql</a></td>
<td align="left">sql</td>
</tr>
<tr>
<td align="left">XML(<em>不使用</em>)</td>
<td align="left"><a target="_blank" rel="noopener" href="http://java.sun.com/jsp/jstl/xml">http://java.sun.com/jsp/jstl/xml</a></td>
<td align="left">x</td>
</tr>
</tbody></table>
<h3 id="在JSP标签库中使用taglib指令引入标签库"><a href="#在JSP标签库中使用taglib指令引入标签库" class="headerlink" title="在JSP标签库中使用taglib指令引入标签库"></a>在JSP标签库中使用taglib指令引入标签库</h3><p>Core标签库:<code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sum.com/jsp/jstl/core&quot; %&gt;</code></p>
<p>XML标签库:<code>&lt;%@ taglib prefix=&quot;x&quot; uri=&quot;http://java.sun.com/jsp/jstl/xml&quot; %&gt;</code></p>
<p>FMT标签库:<code>&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;</code></p>
<p>SQL标签库:<code>&lt;%@ taglib prefix=&quot;sql&quot; uri=&quot;http://java.sun.com/jsp/jstl/sql&quot; %&gt;</code></p>
<p>FUNCTIONS标签库:<code>&lt;%@ taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;</code></p>
<h3 id="JSTL标签库的使用步骤"><a href="#JSTL标签库的使用步骤" class="headerlink" title="JSTL标签库的使用步骤"></a>JSTL标签库的使用步骤</h3><ol>
<li><p>先导入jstl标签库的jar包；</p>
<ul>
<li>taglibs-standard-impl-1.2.1.jar</li>
<li>taglibs-standard-spec-1.2.1.jar</li>
</ul>
</li>
<li><p>使用taglib指令引入标签库(使用时，一般IDE会自动导入)。</p>
</li>
</ol>
<h3 id="core核心库使用"><a href="#core核心库使用" class="headerlink" title="core核心库使用"></a>core核心库使用</h3><h4 id="set标签"><a href="#set标签" class="headerlink" title="set标签"></a>set标签</h4><p>作用：set标签可以往域中保存数据。</p>
<p>属性：</p>
<ul>
<li>scope： 保存到哪个域</li>
<li>var ：   key的值</li>
<li>value：   value的值</li>
</ul>
<p>示例：<code>&lt;c:set scope=&quot;request&quot; var=&quot;abc&quot; value=&quot;abcValue&quot;  /&gt;</code></p>
<h4 id="if标签"><a href="#if标签" class="headerlink" title="if标签"></a>if标签</h4><p>作用：用来做if判断。</p>
<p>test属性：表示判断的条件（使用EL表达式输出）。</p>
<p>示例：<code>&lt;c:if test=&quot;$&#123;12 == 12&#125;&quot;&gt;yes&lt;/c:if&gt;</code></p>
<h4 id="choose、when和default标签"><a href="#choose、when和default标签" class="headerlink" title="choose、when和default标签"></a>choose、when和default标签</h4><p>作用：多路判断。跟switch、case、default很像</p>
<ul>
<li>choose标签：标签表示开始选择判断</li>
<li>when标签：标签表示每一种判断情况<ul>
<li>test属性：表示判断的条件（使用EL表达式输出）</li>
</ul>
</li>
<li>otherwise标签：表示剩下的情况</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:set scope=<span class="string">&quot;request&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;height&quot;</span> value=<span class="string">&quot;170&quot;</span>/&gt;</span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;requestScope.height &gt; 180&#125;&quot;&gt;高&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;requestScope.height &gt; 170&#125;&quot;&gt;还行&lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=&quot;$&#123;requestScope.height &gt; 160&#125;&quot;&gt;咳咳&lt;/c:when&gt;</span><br><span class="line">    &lt;c:otherwise&gt;......&lt;/c:otherwise&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>注意事项：</p>
<pre><code>1. 标签里不能使用html注释，要使用jsp注释；
2. when标签的父标签必须是choose标签。
</code></pre>
</blockquote>
<h4 id="forEach标签"><a href="#forEach标签" class="headerlink" title="forEach标签"></a>forEach标签</h4><p>作用：遍历输出使用。</p>
<p>属性：</p>
<ul>
<li>begin：设置开始的索引</li>
<li>end：设置结束的索引</li>
<li>var：表示循环的变量</li>
<li>items：表示遍历的数据源(遍历的集合)</li>
<li>var：表示当前遍历到的数据源</li>
<li>step：表示遍历的步长值</li>
<li>varStatus：表示当前遍历到的数据的状态<ul>
<li>.current：表示获取其当前遍历到的数据</li>
<li>.index：表示获取遍历的索引</li>
<li>.count：表示遍历的个数</li>
<li>.first：表示当前遍历的数据是否是第一条</li>
<li>.last：表示当前遍历的数据是否是最后一条</li>
<li>.begin：表示获取bgin的属性值</li>
<li>.end：表示获取end的属性值</li>
<li>.step：表示获取step的属性值</li>
</ul>
</li>
</ul>
<p>常见的遍历情况：</p>
<ol>
<li><p>遍历数字1到10</p>
<ul>
<li>示例：<code>&lt;c:forEach begin=&quot;1&quot; end=&quot;10&quot; var=&quot;i&quot;&gt;$&#123;i&#125;&lt;br&gt;&lt;/c:forEach&gt;</code></li>
</ul>
</li>
<li><p>遍历Object数组</p>
<ul>
<li><p>示例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    request.setAttribute(<span class="string">&quot;arr&quot;</span>, <span class="keyword">new</span> String[]&#123;<span class="string">&quot;123456&quot;</span>,<span class="string">&quot;654321&quot;</span>,<span class="string">&quot;123465&quot;</span>&#125;);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;c:forEach items=&quot;$&#123;requestScope.arr&#125;&quot; var=&quot;item&quot;&gt;$&#123;item&#125;&lt;br&gt;&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>遍历List集合</p>
<ul>
<li><p>示例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    List&lt;Student&gt; students = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        students.add(<span class="keyword">new</span> Student(i, <span class="string">&quot;student&quot;</span> + i, <span class="number">15</span> + i, <span class="string">&quot;phone&quot;</span> + i));</span><br><span class="line">    &#125;</span><br><span class="line">    request.setAttribute(<span class="string">&quot;students&quot;</span>, students);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;table&gt;</span><br><span class="line">    &lt;th&gt;编号&lt;/th&gt;</span><br><span class="line">    &lt;th&gt;姓名&lt;/th&gt;</span><br><span class="line">    &lt;th&gt;年龄&lt;/th&gt;</span><br><span class="line">    &lt;th&gt;电话&lt;/th&gt;</span><br><span class="line">&lt;c:forEach items=<span class="string">&quot;$&#123;requestScope.students&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;stu&quot;</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;$&#123;stu.id&#125;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;$&#123;stu.name&#125;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;$&#123;stu.age&#125;&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;$&#123;stu.phone&#125;&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>遍历Map 集合</p>
<ul>
<li><p>示例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;k1&quot;</span>, <span class="string">&quot;v1&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;k2&quot;</span>, <span class="string">&quot;v2&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;k3&quot;</span>, <span class="string">&quot;v3&quot;</span>);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;map&quot;</span>,map);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;c:forEach items=<span class="string">&quot;$&#123;requestScope.map&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;entry&quot;</span>&gt;</span><br><span class="line">    $&#123;entry&#125;==&gt;$&#123;entry.key&#125;:$&#123;entry.value&#125;&lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ol>
<p><strong>forEach标签所有属性组合使用介绍</strong>:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;k1&quot;</span>, <span class="string">&quot;v1&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;k2&quot;</span>, <span class="string">&quot;v2&quot;</span>);</span><br><span class="line">    map.put(<span class="string">&quot;k3&quot;</span>, <span class="string">&quot;v3&quot;</span>);</span><br><span class="line">    request.setAttribute(<span class="string">&quot;map&quot;</span>,map);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;c:forEach begin=<span class="string">&quot;2&quot;</span> end=<span class="string">&quot;7&quot;</span> step=<span class="string">&quot;2&quot;</span> items=<span class="string">&quot;$&#123;requestScope.map&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;entry&quot;</span>&gt;</span><br><span class="line">    $&#123;entry&#125;==&gt;$&#123;entry.key&#125;:$&#123;entry.value&#125;&lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>



<h2 id="文件的上传和下载"><a href="#文件的上传和下载" class="headerlink" title="文件的上传和下载"></a>文件的上传和下载</h2><p>文件的上传和下载是非常常见的功能。很多的系统中，或者软件中都经常使用文件的上传和下载。</p>
<h3 id="文件的上传"><a href="#文件的上传" class="headerlink" title="文件的上传"></a>文件的上传</h3><ol>
<li>要有一个form标签，method=post请求；</li>
<li>form标签的enctype属性值必须为multipart/form-data值；</li>
<li>在form标签中使用 input type=file添加上传文件；</li>
<li>编写服务器代码接收，处理上传的数据。</li>
</ol>
<h4 id="文件上传的http协议内容介绍"><a href="#文件上传的http协议内容介绍" class="headerlink" title="文件上传的http协议内容介绍"></a>文件上传的http协议内容介绍</h4><p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%9A%84http%E5%8D%8F%E8%AE%AE%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D.jpg" alt="1-6"></p>
<h4 id="commons-fileupload-jar常用API介绍说明"><a href="#commons-fileupload-jar常用API介绍说明" class="headerlink" title="commons-fileupload.jar常用API介绍说明"></a>commons-fileupload.jar常用API介绍说明</h4><p><strong>commons-fileupload.jar依赖于commons-io.jar</strong></p>
<p>commons-fileupload.jar和commons-io.jar包中常用的类：</p>
<ol>
<li>ServletFileUpload：用于解析上传的数据；<ul>
<li>isMultipartcontent()：判断当前上传的数据格式是否是多段的格式。</li>
</ul>
</li>
<li>FileItem：表示每一个表单项；<ul>
<li>parseRequest()：解析上传的数据；</li>
<li>isFormField()：判断当前这个表单项，是普通的表单项，还是上传的文件类型；<ul>
<li>true：表示普通的表单项；</li>
<li>false：表示上传的文件类型。</li>
</ul>
</li>
<li>getFiledName()；获取表单项的name属性；</li>
<li>getString()：获取当前表单项的value属性；</li>
<li>getName()：获取上传的文件名；</li>
<li>write()：将上传的文件写到参数file所指向的硬盘位置。</li>
</ul>
</li>
</ol>
<h4 id="使用fileupload解析上传数据"><a href="#使用fileupload解析上传数据" class="headerlink" title="使用fileupload解析上传数据"></a>使用fileupload解析上传数据</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadDemoServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        System.out.println(&quot;I get something&quot;);</span></span><br><span class="line">        <span class="comment">// 首先判断上传的数据是否是多段数据(只有多段数据，才是文件上传的)</span></span><br><span class="line">        <span class="keyword">if</span> (ServletFileUpload.isMultipartContent(req)) &#123;</span><br><span class="line">            <span class="comment">// 创建FileItemFactory工厂实现类</span></span><br><span class="line">            FileItemFactory fileItemFactory = <span class="keyword">new</span> DiskFileItemFactory();</span><br><span class="line">            <span class="comment">// 创建用于解析上传数据的工具类ServletFileUpload类</span></span><br><span class="line">            ServletFileUpload servletFileUpload = <span class="keyword">new</span> ServletFileUpload(fileItemFactory);</span><br><span class="line">            <span class="comment">// 解析上传的数据，得到每一个表单项FileItem</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                List&lt;FileItem&gt; list = servletFileUpload.parseRequest(req);</span><br><span class="line">                <span class="comment">// 循环判断，每一个表单项是普通类型还是上传的文件</span></span><br><span class="line">                <span class="keyword">for</span> (FileItem fileItem : list) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (fileItem.isFormField()) &#123;</span><br><span class="line">                        <span class="comment">// 普通表单项</span></span><br><span class="line">                        System.out.println(<span class="string">&quot;表单项的name属性值：&quot;</span> + fileItem.getFieldName());</span><br><span class="line">                        <span class="comment">// 参数UTF-8，防止乱码问题</span></span><br><span class="line">                        System.out.println(<span class="string">&quot;表单项的value属性值：&quot;</span> + fileItem.getString(<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">// 上传的文件</span></span><br><span class="line">                        System.out.println(<span class="string">&quot;表单项的name属性值：&quot;</span> + fileItem.getFieldName());</span><br><span class="line">                        System.out.println(<span class="string">&quot;上传的文件名：&quot;</span> + fileItem.getName());</span><br><span class="line"></span><br><span class="line">                        fileItem.write(<span class="keyword">new</span> File(<span class="string">&quot;e:\\&quot;</span> + fileItem.getName()));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="文件的下载"><a href="#文件的下载" class="headerlink" title="文件的下载"></a>文件的下载</h3><ol>
<li>取要下载的文件名；</li>
<li>读取要下载的文件内容；</li>
<li>在回传前，通过响应头告诉客户端返回的数据类型；</li>
<li>还要告诉客户端收到的数据是用于下载使用(使用响应头告诉)；</li>
<li>把下载的文件内容回传给客户端。</li>
</ol>
<p><strong>示例</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DownloadDemoServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">//        1. 获取要下载的文件名</span></span><br><span class="line">        String downloadFileName = <span class="string">&quot;123.jpg&quot;</span>;</span><br><span class="line"><span class="comment">//        2. 读取要下载的文件内容(通过ServletContext对象可以读取)</span></span><br><span class="line">        ServletContext servletContext = getServletContext();</span><br><span class="line">        InputStream resourceAsStream = servletContext.getResourceAsStream(<span class="string">&quot;/file/&quot;</span>+downloadFileName);</span><br><span class="line"><span class="comment">//        3. 在回传前，通过响应头告诉客户端返回的数据类型</span></span><br><span class="line">        <span class="comment">// 获取要下载的文件类型</span></span><br><span class="line">        String mimeType = servletContext.getMimeType(<span class="string">&quot;/file/&quot;</span> + downloadFileName);</span><br><span class="line">        resp.setContentType(mimeType);</span><br><span class="line"><span class="comment">//        4. 还要告诉客户端收到的数据适用于下载使用(还是使用响应头)</span></span><br><span class="line">        <span class="comment">// content-Disposition响应头，表示收到的数据怎么处理，用于下载，还是直接展示</span></span><br><span class="line">        <span class="comment">// attachment表示附件，表示下载使用</span></span><br><span class="line">        <span class="comment">// filename表示指定的下载文件名</span></span><br><span class="line">        resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;filename=&quot;</span>+downloadFileName);</span><br><span class="line"><span class="comment">//        5. 把下载的文件内容回传给客户端</span></span><br><span class="line">        <span class="comment">// 获取响应流(输出流)</span></span><br><span class="line">        OutputStream outputStream = resp.getOutputStream();</span><br><span class="line">        <span class="comment">// 读取流中全部的数据，复制给输出流，给客户端</span></span><br><span class="line">        IOUtils.copy(resourceAsStream, outputStream);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="使用URLEncoder解决谷歌浏览器和IE浏览器中文下载乱码问题"><a href="#使用URLEncoder解决谷歌浏览器和IE浏览器中文下载乱码问题" class="headerlink" title="使用URLEncoder解决谷歌浏览器和IE浏览器中文下载乱码问题"></a>使用URLEncoder解决谷歌浏览器和IE浏览器中文下载乱码问题</h4><p>URL编码是把汉字转换成为%xx%xx的格式：<code>resp.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;+URLEcoder.encode(&quot;中国&quot;,&quot;UTF-8&quot;));</code></p>
<h4 id="Base64编解码操作"><a href="#Base64编解码操作" class="headerlink" title="Base64编解码操作"></a>Base64编解码操作</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Base64Demo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String content = <span class="string">&quot;这是一串中文字符&quot;</span>;</span><br><span class="line"><span class="comment">//        编码操作</span></span><br><span class="line">        <span class="comment">// 创建一个base64编码器</span></span><br><span class="line">        BASE64Encoder base64Encoder = <span class="keyword">new</span> BASE64Encoder();</span><br><span class="line">        String encode = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 执行base64编码操作</span></span><br><span class="line">            encode = base64Encoder.encode(content.getBytes(<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//         解码操作</span></span><br><span class="line">        BASE64Decoder base64Decoder = <span class="keyword">new</span> BASE64Decoder();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">byte</span>[] bytes = base64Decoder.decodeBuffer(encode);</span><br><span class="line">            String str = <span class="keyword">new</span> String(bytes, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="BASE64编解码解决火狐浏览器的附件中文名问题"><a href="#BASE64编解码解决火狐浏览器的附件中文名问题" class="headerlink" title="BASE64编解码解决火狐浏览器的附件中文名问题"></a>BASE64编解码解决火狐浏览器的附件中文名问题</h4><p>如果客户端浏览器是火狐浏览器，那么我们需要对中文名进行BASE64编码操作。</p>
<p>这个时候需要把请求头<code>Content-Disposition:attachment;filename=中文名</code>，编码成<code>Content-Disposition:attachment;filename==??charset?B?xxx?=</code>。</p>
<p><code>=??charset?B?xxx?=</code>说明：</p>
<ul>
<li>=? 表示编码内容的开始；</li>
<li>charset表示字符集；</li>
<li>B 表示BASE64编码；</li>
<li>xxxx 表示文件名BASE64编码后的内容；</li>
<li>?= 表示编码内容的结束。</li>
</ul>
<h4 id="通过User-Agent请求头判断，动态切换不同的方案解决所有浏览器附件中文乱码问题"><a href="#通过User-Agent请求头判断，动态切换不同的方案解决所有浏览器附件中文乱码问题" class="headerlink" title="通过User-Agent请求头判断，动态切换不同的方案解决所有浏览器附件中文乱码问题"></a>通过User-Agent请求头判断，动态切换不同的方案解决所有浏览器附件中文乱码问题</h4><p>在调用setHeader()之间加一个判断，来决定Content-Disposition的对应的编码。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(req.getHeader(<span class="string">&quot;User-Agent&quot;</span>).contains(<span class="string">&quot;Firefox&quot;</span>)&#123;</span><br><span class="line"><span class="comment">// 如果是火狐浏览器，使用Base64编码</span></span><br><span class="line">    resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,<span class="string">&quot;attachment;filename==?UTF-8?B?&quot;</span>+<span class="keyword">new</span> BASE64Encoder().encode(<span class="string">&quot;图片.jpg&quot;</span>.getbytes(<span class="string">&quot;UTF-8&quot;</span>))+<span class="string">&quot;?=&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">// 如果不是火狐，则使用URL编码操作</span></span><br><span class="line">    resp.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>,<span class="string">&quot;attachment;filename=&quot;</span>+URLEncoder.encode(<span class="string">&quot;图片.jpg&quot;</span>,<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><h3 id="什么是Cookie"><a href="#什么是Cookie" class="headerlink" title="什么是Cookie"></a>什么是Cookie</h3><p>Cookie翻译为饼干的意思；</p>
<p>Cookie是服务器通知客户端保存键值对大的一种技术；</p>
<p>客户端有了Cookie后，每次请求都会将Cookie发送给服务器；</p>
<p>每个Cookie的大小不能超过4kb。</p>
<h3 id="如何创建Cookie"><a href="#如何创建Cookie" class="headerlink" title="如何创建Cookie"></a>如何创建Cookie</h3><ol>
<li>创建Cookie对象：<code>Cookie cookie = new Cookie(String name, String value)</code>；</li>
<li>通知客户端保存Cookie：<code>response.addCookie(Cookie cookie)</code>。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/Cookie%E7%9A%84%E5%88%9B%E5%BB%BA.jpg" alt="1-7"></p>
<blockquote>
<p>Cookie 一次可以创建多个，使用response调用多次addCookie方法即可。</p>
</blockquote>
<h3 id="如何获取Cookie"><a href="#如何获取Cookie" class="headerlink" title="如何获取Cookie"></a>如何获取Cookie</h3><p>服务器获取客户端的Cookie只需要调用：<code>request.getCookie():Cookie[]</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取Cookie</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 3.获取Cookie</span></span><br><span class="line">    Cookie[] cookies = request.getCookies();</span><br><span class="line">    <span class="keyword">if</span> (cookies != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span>(Cookie c: cookies)&#123;</span><br><span class="line">            String name = c.getName();</span><br><span class="line">            String value = c.getValue();</span><br><span class="line">            System.out.println(<span class="string">&quot;name : &quot;</span> + name +<span class="string">&quot; value : &quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="如何修改Cookie的值"><a href="#如何修改Cookie的值" class="headerlink" title="如何修改Cookie的值"></a>如何修改Cookie的值</h3><h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><ol>
<li>先创建一个要修改的同名的Cookie对象；</li>
<li>在构造器，同时赋予新的Cookie值；</li>
<li>调用<code>response.addCookie(cookie);</code>。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">    Cookie cookie = <span class="keyword">new</span> Cookie(<span class="string">&quot;key1&quot;</span>, <span class="string">&quot;newValue1&quot;</span>);</span><br><span class="line">    response.addCookie(cookie);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h4><ol>
<li>先查找到需要修改的Cookie对象；</li>
<li>调用<code>setValue()</code>方法赋予新的Cookie值；</li>
<li>调用<code>response.addCookie()</code>。</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">    <span class="comment">// 获取</span></span><br><span class="line">    Cookie[] cookies = request.getCookies();</span><br><span class="line">    <span class="comment">// 目标Cookie的键</span></span><br><span class="line">    String key = <span class="string">&quot;key1&quot;</span>; </span><br><span class="line">    <span class="comment">// 查找，可以将查找的过程封装</span></span><br><span class="line">    <span class="keyword">if</span> (cookies != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span>(Cookie c: cookies)&#123;</span><br><span class="line">            <span class="keyword">if</span> (key.equale(c.getName()))&#123;</span><br><span class="line">                <span class="comment">// 赋予新的Cookie值</span></span><br><span class="line">                c.setValue(<span class="string">&quot;newValue1&quot;</span>);</span><br><span class="line">                <span class="comment">// 调用response.addCookie()</span></span><br><span class="line">                response.addCookie(c);</span><br><span class="line">                <span class="keyword">break</span>;  <span class="comment">// 结束查找</span></span><br><span class="line">            &#125;       </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="cookie能不能存中文"><a href="#cookie能不能存中文" class="headerlink" title="cookie能不能存中文?"></a>cookie能不能存中文?</h3><p>在tomcat8之前cookie中不能直接存储中文数据<br>    * 需要将中文数据转码——一般采用URL编码</p>
<p>在tomcat8之后cookie支持中文数据。特殊字符还是不支持，建议使用URL编码。</p>
<h3 id="Cookie的生命控制"><a href="#Cookie的生命控制" class="headerlink" title="Cookie的生命控制"></a>Cookie的生命控制</h3><p>Cookie的生命控制是指如何管理Cookie什么时候被销毁(删除)</p>
<p>通过一个方法来控制：<code>setMaxAge()</code></p>
<ul>
<li>参数是正数，表示在指定的秒数会过期</li>
<li>参数是负数，表示浏览器一关，Cookie就会被删除(默认值就是-1)</li>
<li>零，表示马上删除Cookie</li>
</ul>
<p>示例：<code>cookie.setMaxAge(30);</code></p>
<h3 id="Cookie有效路径Path的设置"><a href="#Cookie有效路径Path的设置" class="headerlink" title="Cookie有效路径Path的设置"></a>Cookie有效路径Path的设置</h3><p>Cookie的path属性可以有效地过滤那些Cookie可以发送给服务器，那些不发。</p>
<p>Path属性是通过请求的地址来进行有效的过滤。</p>
<p>方法：<code>cookie.setPath()</code></p>
<blockquote>
<p>例如，一下两个Cookie对应的path如下：<br>CookieA path=/workpath<br>CookieB path=/workpath/abc</p>
<p>假设请求地址为：<a href="http://ip:port/workpath/a.html">http://ip:port/workpath/a.html</a><br>则，CookieA发送，CookieB不发送</p>
<p>假设请求地址为：<a href="http://ip:port/workpath/abc/a.html">http://ip:port/workpath/abc/a.html</a><br>则，CookieA发送，CookieB发送</p>
</blockquote>
<h3 id="ookie的特点和作用"><a href="#ookie的特点和作用" class="headerlink" title="ookie的特点和作用"></a>ookie的特点和作用</h3><p>特点：</p>
<ol>
<li>cookie存储数据在客户端浏览器；</li>
<li>浏览器对于单个cookie的大小有限制(4kb)以及对同一域名下的总cookie数量也有限制(20个)。</li>
</ol>
<p>作用：</p>
<ol>
<li>cookie一般用于存储少量的敏感的数据；</li>
<li>在不登录的情况下，完成服务器对客户端的身份识别。</li>
</ol>
<h3 id="Cookie练习–免输入用户名登录"><a href="#Cookie练习–免输入用户名登录" class="headerlink" title="Cookie练习–免输入用户名登录"></a>Cookie练习–免输入用户名登录</h3><p>思路：</p>
<p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/%E5%85%8D%E8%BE%93%E5%85%A5%E7%94%A8%E6%88%B7%E5%90%8D%E7%99%BB%E5%BD%95%E5%9B%BE%E7%A4%BA.jpg" alt="1-10"></p>
<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><h3 id="什么是Session会话"><a href="#什么是Session会话" class="headerlink" title="什么是Session会话"></a>什么是Session会话</h3><p>Session就是一个接口(HttpSession)。</p>
<p>Session就是会话，它是用来维护一个客户的短和服务器之间关联的一种技术。</p>
<p>每个客户端都有自己的一个Sessino会话。</p>
<p>Session会话中，我们经常用来保存用户登录之后的信息。</p>
<h3 id="如何创建Session和获取-id号，是否为新"><a href="#如何创建Session和获取-id号，是否为新" class="headerlink" title="如何创建Session和获取(id号，是否为新)"></a>如何创建Session和获取(id号，是否为新)</h3><p>如何创建和获取Session？</p>
<ul>
<li>它们的API都是一样的：<code>request.getSession()</code>；<ul>
<li>第一次调用是创建Session会话；</li>
<li>之后调用都是获取前面创建好的Session会话对象。</li>
</ul>
</li>
<li>isNew():判断Session是不是新的(刚被创建出来)；<ul>
<li>true表示新的；</li>
<li>false表示获取之前创建的。</li>
</ul>
</li>
</ul>
<p>每个会话都有一个身份证号，也就是ID值。而且，这个ID号是唯一的。</p>
<ul>
<li>getId()：得到Session的会话id值。</li>
</ul>
<h3 id="Session域中数据的存取"><a href="#Session域中数据的存取" class="headerlink" title="Session域中数据的存取"></a>Session域中数据的存取</h3><ul>
<li><code>Object getAttribute(String name)</code></li>
<li><code>void setAttribute(String name, String value)</code></li>
<li><code>void removeAttribute(String name)</code></li>
</ul>
<h3 id="4-Session生命周期控制"><a href="#4-Session生命周期控制" class="headerlink" title="4 Session生命周期控制"></a>4 Session生命周期控制</h3><p><strong>方法</strong>：</p>
<ul>
<li><code>public void setMaxInactiveInterval(int interval)</code>：设置Session超时时间(秒)，超过指定时长，session就会被销毁；<ul>
<li>参数为正数的时候，设定Sessino的超时时长；</li>
<li>参数为负数的时候，表示永不超时(极少使用)。</li>
</ul>
</li>
<li><code>public int getMaxInactiveInterval()</code>：获取Session的超时时长；</li>
<li><code>public void invalidate()</code>：让当前Sessino会话马上超时无效。</li>
</ul>
<p>Session默认的超时时长为30分钟，可在Tomcat服务器的配置文件web.xml中的<code>&lt;session-config&gt;</code>标签中修改默认时长，也可以在当前的web工程中的web.xml配置当前的工程Session默认时长。</p>
<p><strong>Session的超时指的是，客户端两次请求的最大间隔时长</strong></p>
<h3 id="session特点"><a href="#session特点" class="headerlink" title="session特点"></a>session特点</h3><ol>
<li>session用于存储一次会话的多次请求的数据，存在服务器端；</li>
<li>session可以存储任意类型，任意大小的数据。</li>
</ol>
<blockquote>
<p>注意事项：<br>当客户端关闭后，服务器不关闭，两次获取session是否为同一个？</p>
<pre><code>  * 默认情况下，不是。如果需要相同，则可以创建Cookie，键为JSESSIONID，设置最大存活时间，cookie 持久化保存
        * 
        * 例如:
      <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Cookie c = <span class="keyword">new</span> Cookie(<span class="string">&quot;JSESSIONID&quot;</span>, session.getId());</span><br><span class="line">c.setMaxAge(<span class="number">60</span> *<span class="number">60</span>);</span><br><span class="line">response.addCookie();</span><br></pre></td></tr></table></figure>
</code></pre>
<p>客户端不关闭，服务器关闭后，两次获取的Session是否为同一个？<br>            - 不是同一个，但是要确保数据不丢失。tomcat自动完成以下工作。<br>                - session的钝化<br>                    - 在服务器正常关闭之前，将session对象系列化到硬盘上<br>                - session的活化<br>                    - 在服务器启动后，将session文件转化为内存中的session对象即可</p>
</blockquote>
<h3 id="session和cookie的区别："><a href="#session和cookie的区别：" class="headerlink" title="session和cookie的区别："></a>session和cookie的区别：</h3><ol>
<li>session存储数据在服务器端，cookie在客户端；</li>
<li>session没有数据大小限制，cookie有；</li>
<li>session数据安全，cookie相对不安全。</li>
</ol>
<h3 id="浏览器和Session之间关联的技术"><a href="#浏览器和Session之间关联的技术" class="headerlink" title="浏览器和Session之间关联的技术"></a>浏览器和Session之间关联的技术</h3><p>Session技术底层其实是基于Cookie技术来实现的。</p>
<p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8CSession%E4%B9%8B%E9%97%B4%E5%85%B3%E8%81%94%E7%9A%84%E6%8A%80%E6%9C%AF.jpg" alt="1-11"></p>
<h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><h3 id="什么是Filter过滤器"><a href="#什么是Filter过滤器" class="headerlink" title="什么是Filter过滤器"></a>什么是Filter过滤器</h3><ul>
<li>Filter是JavaEE规范之一(规范就是接口)；</li>
<li>Filter就是JavaWeb三大组件之一(三大组件：Servlet程序、Filter过滤器、Listener监听器)；</li>
<li>Filter的作用是：<strong>拦截请求</strong>，过滤响应。</li>
</ul>
<p>拦截请求常见的应用场景：</p>
<ul>
<li>权限检查</li>
<li>日记操作</li>
<li>事务管理</li>
<li>……</li>
</ul>
<h3 id="Filter的基本使用"><a href="#Filter的基本使用" class="headerlink" title="Filter的基本使用"></a>Filter的基本使用</h3><h4 id="Filter过滤器的使用步骤"><a href="#Filter过滤器的使用步骤" class="headerlink" title="Filter过滤器的使用步骤"></a>Filter过滤器的使用步骤</h4><ol>
<li>编写一个类去实现Filter接口；</li>
<li>实现过滤方法doFilte()；</li>
<li>到web.xml中去配置Filter的拦截路径。</li>
</ol>
<h4 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h4><p>要求：在你的web工程下，有一个admin目录，这个admin目录下的所有资源(html页面，jpg图片，jsp文件等等)，都必须是用户登录之后才允许访问；</p>
<p>思考：根据之前所学，我们知道，用户登录之后都会把用户登录信息保存到session域中，所以要检查用户是否登录，可以判断Session中是否包含有用户登录的信息即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FilterDemo</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * doFilter方法，专门用于拦截请求，可以做权限检查</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> servletRequest</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> servletResponse</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> filterChain</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ServletException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        HttpServletRequest httpServletRequest = (HttpServletRequest) servletRequest;</span><br><span class="line"></span><br><span class="line">        HttpSession session = httpServletRequest.getSession();</span><br><span class="line"></span><br><span class="line">        Object user = session.getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (user == <span class="keyword">null</span>) &#123;</span><br><span class="line">            servletRequest.getRequestDispatcher(<span class="string">&quot;login.jsp&quot;</span>).forward(servletRequest, servletResponse);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 让程序继续往下访问用户的目标资源</span></span><br><span class="line">            filterChain.doFilter(servletRequest, servletResponse);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>需要在web.xml中配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--	filter标签用于配置一个Filter过滤器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--		给filter起一个别名--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>FilterDemo<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--		配置filter的全类名--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.example.Filter.FilterDemo<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--	filter-mapping配置filter过滤器的拦截路径 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--		表示当前的拦截路径给那个filter使用--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>FilterDemo<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--		配置拦截路径--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/admin/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="Filter的生命周期"><a href="#Filter的生命周期" class="headerlink" title="Filter的生命周期"></a>Filter的生命周期</h3><p>Filter的生命周期包含几个方法：</p>
<ol>
<li>构造器方法；</li>
<li>init初始化方法；</li>
<li>doFilter过滤方法；</li>
<li>destory销毁；</li>
</ol>
<blockquote>
<p><strong>1、2</strong>在web工程启动的时候执行(Filter已经创建)；<br><strong>3</strong>在每次拦截到请求就会执行；<br><strong>4</strong>停止web工程的时候，就会执行(停止web工程的时候，也会销毁Filter过滤器)。</p>
</blockquote>
<h3 id="FilterConfig类"><a href="#FilterConfig类" class="headerlink" title="FilterConfig类"></a>FilterConfig类</h3><p>FilterConfig它是Filter过滤器的配置文件类。</p>
<p>Tomcat每次创建Filter的时候，也会同时创建一个FilterConfig类，这里包含了Filter的配置文件信息。</p>
<p>作用：</p>
<ol>
<li>获取FiIlter的别名(filter-name的内容)；</li>
<li>获取在Filter中配置的init-param初始化参数；</li>
<li>获取ServletContext对象。</li>
</ol>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FilterDemo</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Filter的init(FilterConfig filterConfig)初始化&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        1. 获取FiIlter的别名(filter-name的内容)：fie</span></span><br><span class="line">        System.out.println(<span class="string">&quot;filter-name：&quot;</span> + filterConfig.getFilterName());</span><br><span class="line"><span class="comment">//        2. 获取在Filter中配置的init-param初始化参数</span></span><br><span class="line">        System.out.println(<span class="string">&quot;初始化参数url的只是：&quot;</span> + filterConfig.getInitParameter(<span class="string">&quot;root&quot;</span>));</span><br><span class="line"><span class="comment">//        3. 获取ServletContext对象</span></span><br><span class="line">        System.out.println(filterConfig.getServletContext());</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="FilterChain过滤器链"><a href="#FilterChain过滤器链" class="headerlink" title="FilterChain过滤器链"></a>FilterChain过滤器链</h3><p>Filter 过滤器。<br>Chain 链，链条。<br>FilterChain 过滤器链（多个过滤器一起工作）。</p>
<p>特点：</p>
<ol>
<li>所有filter和目标资源默认都在执行同一线程中；</li>
<li>多个filter共同执行的时候，它们都是用同一个request对象。</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/Filter%E8%BF%87%E6%BB%A4%E5%99%A8%E9%93%BE%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" alt="1-12"></p>
<h3 id="Filter的拦截路径"><a href="#Filter的拦截路径" class="headerlink" title="Filter的拦截路径"></a>Filter的拦截路径</h3><ul>
<li><p>精确匹配；</p>
<ul>
<li><code>&lt;url-pattern&gt;/target.jsp&lt;/url-pattern&gt;</code></li>
<li>以上配置的路径，表示请求的地址必须为：<code>http://ip:port/工程路径/target.jsp</code>。</li>
</ul>
</li>
<li><p>目录匹配；</p>
<ul>
<li><code>&lt;url-pattern&gt;/admin/*&lt;/url-pattern&gt;</code><ul>
<li>以上配置的路径，表示请求的地址必须为：<code>http://ip:port/工程路径/admin/*</code>。</li>
</ul>
</li>
<li>后缀名匹配<ul>
<li><code>&lt;url-pattern&gt;/*.html&lt;/url-pattern&gt;</code></li>
<li>以上配置的路径，表示请求的地址必须以html结尾才会截止。</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>Filter过滤器它只关心请求的地址是否匹配，不关心请求的资源是否存在</p>
</blockquote>
<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><h3 id="什么是JSON"><a href="#什么是JSON" class="headerlink" title="什么是JSON"></a>什么是JSON</h3><p>JSON(JavaScript Object Notation)是一种轻量级的数据交换格式。易于人阅读和编写。同时也易于机器解析和生成。JSON采用完全独立于语言的文本格式，而且很多语言都提供了对JSON的支持(包括C，C++，C#，Java，JavaScript，Perl，Python等)。这就是的JSON成为理想的数据交换语言。</p>
<ul>
<li>轻量级指的是跟xml做比较；</li>
<li>数据交换指的是客户端和服务器之间的业务数据的传递格式。</li>
</ul>
<h3 id="JSON在JavScript中的使用"><a href="#JSON在JavScript中的使用" class="headerlink" title="JSON在JavScript中的使用"></a>JSON在JavScript中的使用</h3><h4 id="JSON的定义"><a href="#JSON的定义" class="headerlink" title="JSON的定义"></a>JSON的定义</h4><p>json是由键值对组成，并且有花括号包围。每个键值对由引号引起来，键和值之间使用冒号分隔，多组键值对之间用逗号进行分隔。</p>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> jsonObj = &#123;</span><br><span class="line">    <span class="string">&quot;key1&quot;</span>:<span class="number">12</span>,</span><br><span class="line">    <span class="string">&quot;key2&quot;</span>:<span class="string">&quot;abc&quot;</span>,</span><br><span class="line">    <span class="string">&quot;key3&quot;</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="string">&quot;key4&quot;</span>:[<span class="number">11</span>, <span class="string">&quot;arr&quot;</span>, <span class="literal">false</span>],</span><br><span class="line">    <span class="string">&quot;Key5&quot;</span>:&#123;</span><br><span class="line">        <span class="string">&quot;key5_1&quot;</span>:<span class="number">51</span>,</span><br><span class="line">        <span class="string">&quot;key5_2&quot;</span>:<span class="string">&quot;value5_2&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;Key6&quot;</span>:[&#123;</span><br><span class="line">        <span class="string">&quot;key6_1_1&quot;</span>:<span class="string">&quot;611&quot;</span>,</span><br><span class="line">        <span class="string">&quot;key6_1_2&quot;</span>:<span class="string">&quot;key6_1_2&quot;</span></span><br><span class="line">    &#125;,&#123;</span><br><span class="line">        <span class="string">&quot;key6_2_1&quot;</span>:<span class="string">&quot;621&quot;</span>,</span><br><span class="line">        <span class="string">&quot;key6_2_2&quot;</span>:<span class="string">&quot;key6_2_2&quot;</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h4 id="JSON的访问"><a href="#JSON的访问" class="headerlink" title="JSON的访问"></a>JSON的访问</h4><p>json本身是一个对象。</p>
<p>json中的key我们可以理解为是对象中的一个属性。</p>
<p>json中的key访问就跟访问对象的属性一样：<code>json对象.key</code>。</p>
<p>示例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// json的访问</span></span><br><span class="line">alert(jsonObj.key1);</span><br><span class="line">alert(jsonObj.key4); <span class="comment">//  [11, &quot;arr&quot;, false]</span></span><br><span class="line">alert(jsonObj.key4[<span class="number">1</span>]); </span><br><span class="line">alert(jsonObj.key5);</span><br><span class="line">alert(jsonObj.key5.key5_1);</span><br><span class="line">alert(jsonObj.key6[<span class="number">0</span>].key6_1_1);</span><br></pre></td></tr></table></figure>



<h4 id="JSON的两个常用方法"><a href="#JSON的两个常用方法" class="headerlink" title="JSON的两个常用方法"></a>JSON的两个常用方法</h4><p>json的存在有两种形式：</p>
<ul>
<li><p>一种是对象的形式存在，json对象；</p>
<ul>
<li>当我们需要操作json数据的时候，需要json对象格式。</li>
</ul>
</li>
<li><p>一种是字符串的形式存在，json字符串   ；</p>
<ul>
<li>当我们要在客户端和服务器之间进行数据交换的时候，使用json字符串。</li>
</ul>
</li>
<li><p><code>JSON.stringify()</code>:把json对象转换成为json字符串；</p>
</li>
<li><p><code>JSON.parse()</code>:把json字符串转换成为json对象。</p>
</li>
</ul>
<p><strong>示例</strong>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JSON的两个常用方法</span></span><br><span class="line"><span class="keyword">var</span> jsonObjString = <span class="built_in">JSON</span>.stringify(jsonObj);  <span class="comment">// 特别像Java中的toString</span></span><br><span class="line">alert(jsonObjString);</span><br><span class="line"><span class="keyword">var</span> jsonObj2 = <span class="built_in">JSON</span>.parse(jsonObjString);</span><br><span class="line">alert(jsonObj2)</span><br></pre></td></tr></table></figure>



<h3 id="JSON在java中的使用"><a href="#JSON在java中的使用" class="headerlink" title="JSON在java中的使用"></a>JSON在java中的使用</h3><p>需要导入jar包，以下示例中使用的是<strong>gson.jar</strong>（Google提供的用于解析json的第三方库）。</p>
<h4 id="JavaBean和json的互转"><a href="#JavaBean和json的互转" class="headerlink" title="JavaBean和json的互转"></a>JavaBean和json的互转</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Human human = <span class="keyword">new</span> Human(<span class="number">1</span>, <span class="string">&quot;Tom&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 创建Gson实例</span></span><br><span class="line">    Gson gson = <span class="keyword">new</span> Gson();</span><br><span class="line">    <span class="comment">// toJson方法可以把java对象转换为json字符串</span></span><br><span class="line">    String humanJsonString = gson.toJson(human);</span><br><span class="line">    System.out.println(humanJsonString);</span><br><span class="line">    <span class="comment">// fromJson把json字符串转换为Java对象</span></span><br><span class="line">    <span class="comment">// 第一个参数是json字符串，第二个参数是转换回去的Java对象类型</span></span><br><span class="line">    Human human1 = gson.fromJson(humanJsonString, Human.class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="List和json的互转"><a href="#List和json的互转" class="headerlink" title="List和json的互转"></a>List和json的互转</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;Human&gt; humans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    humans.add(<span class="keyword">new</span> Human(<span class="number">1</span>, <span class="string">&quot;tom&quot;</span>));</span><br><span class="line">    humans.add(<span class="keyword">new</span> Human(<span class="number">2</span>, <span class="string">&quot;jerry&quot;</span>));</span><br><span class="line"></span><br><span class="line">    Gson gson = <span class="keyword">new</span> Gson();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 把list转换成json字符串</span></span><br><span class="line">    String humansString = gson.toJson(humans);</span><br><span class="line">    System.out.println(humansString);</span><br><span class="line">    <span class="comment">// 把json字符串转换成list</span></span><br><span class="line">    <span class="comment">// 自定义类：public class HumanListType extends TypeToken&lt;ArrayList&lt;Human&gt;&gt; &#123;&#125;</span></span><br><span class="line">    List&lt;Human&gt; list = gson.fromJson(humansString, <span class="keyword">new</span> HumanListType().getType());</span><br><span class="line">    System.out.println(list.get(<span class="number">0</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>TypeToken由Gson.jar包提供，但我们需要将json字符串转换为list或map类型时，需要用到它。</p>
<ul>
<li>只需要编写一个类继承TypeToken，并写明泛型即可；</li>
<li>然后：<code>gson.fromJson(humansString, new HumanListType().getType());</code>即可。</li>
</ul>
<h4 id="Map和json的互转"><a href="#Map和json的互转" class="headerlink" title="Map和json的互转"></a>Map和json的互转</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Map&lt;Integer, Human&gt; humanMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    humanMap.put(<span class="number">1</span>, <span class="keyword">new</span> Human(<span class="number">1</span>, <span class="string">&quot;Tom&quot;</span>));</span><br><span class="line">    humanMap.put(<span class="number">2</span>, <span class="keyword">new</span> Human(<span class="number">2</span>, <span class="string">&quot;Jerry&quot;</span>));</span><br><span class="line"></span><br><span class="line">    Gson gson = <span class="keyword">new</span> Gson();</span><br><span class="line">    String humanMapSting = gson.toJson(humanMap);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//        Map&lt;Integer, Human&gt; humanMap2 = gson.fromJson(humanMapSting, new HumanMapType().getType()); 编写一个类继承TypeToken并写明泛型`TypeToken&lt;HashMap&lt;Integer, Human&gt;&gt;`</span></span><br><span class="line">    Map&lt;Integer, Human&gt; humanMap2 = gson.fromJson(humanMapSting, <span class="keyword">new</span> TypeToken&lt;HashMap&lt;Integer, Human&gt;&gt;()&#123;&#125;.getType());  <span class="comment">// 匿名内部类的方式</span></span><br><span class="line">    System.out.println(humanMap2);</span><br><span class="line">    System.out.println(humanMap2.get(<span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="AJAX请求"><a href="#AJAX请求" class="headerlink" title="AJAX请求"></a>AJAX请求</h2><h3 id="什么是AJAX请求"><a href="#什么是AJAX请求" class="headerlink" title="什么是AJAX请求"></a>什么是AJAX请求</h3><p>AJAX即“Asynchronous Javascript And XML”（异步javascript和xml）是指一种创建交互式网页应用的网页开发技术。</p>
<p><strong>ajax是一种浏览器通过js异步发起请求，局部更新页面的技术</strong></p>
<ul>
<li>Ajax请求的局部更新，浏览器地址栏不会发生变化；</li>
<li>局部更新不会舍弃原来的页面内容。</li>
</ul>
<h3 id="原生AJAX请求示例"><a href="#原生AJAX请求示例" class="headerlink" title="原生AJAX请求示例"></a>原生AJAX请求示例</h3><p>ajax.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 这里使用javascript语言发起Ajax请求，访问服务器AjaxServlet中的JavaScriptAjax</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">ajaxRequest</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 1. 我们首先要创建XMLHttpRequest，XMLHttpRequet对象用于和服务器交换数据</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> xmlhttprequest = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 2. 调用open方法设置请求参数</span></span></span><br><span class="line"><span class="javascript">            xmlhttprequest.open(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;http://localhost/Example/AjaxServlet&quot;</span>,<span class="literal">true</span>);</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 3. 调用send方法发送请求</span></span></span><br><span class="line">            xmlhttprequest.send();</span><br><span class="line"><span class="javascript">            <span class="comment">// 4. 在send方法前绑定onreadystatechange事件，处理请求完之后的操作</span></span></span><br><span class="line"><span class="javascript">            xmlhttprequest.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">                if (xmlhttprequest.readyState == 4 &amp;&amp; xmlhttprequest.status == 200)&#123;</span><br><span class="line"><span class="javascript">                    <span class="comment">// document.getElementById(&quot;div01&quot;).innerHTML = xmlhttprequest.responseText</span></span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> jsonObj = <span class="built_in">JSON</span>.parse(xmlhttprequest.responseText);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">                    <span class="built_in">document</span>.getElementById(<span class="string">&quot;div01&quot;</span>).innerHTML = <span class="string">&quot;编号：&quot;</span> + jsonObj.id + <span class="string">&quot;&lt;br&gt;姓名：&quot;</span> + jsonObj.name;</span></span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;ajaxRequest()&quot;</span>&gt;</span>ajax request<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div01&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>AjaxServlet.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AjaxServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Ajax请求过来了&quot;</span>);</span><br><span class="line"></span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        Human human = <span class="keyword">new</span> Human(<span class="number">1</span>, <span class="string">&quot;人类&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// json格式字符串</span></span><br><span class="line">        Gson gson = <span class="keyword">new</span> Gson();</span><br><span class="line">        String humanJsonString = gson.toJson(human);</span><br><span class="line"></span><br><span class="line">        resp.getWriter().write(humanJsonString);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="JQuery中的AJAX请求"><a href="#JQuery中的AJAX请求" class="headerlink" title="JQuery中的AJAX请求"></a>JQuery中的AJAX请求</h3><h4 id="ajax方法"><a href="#ajax方法" class="headerlink" title="$.ajax方法"></a>$.ajax方法</h4><p><code>$.ajax(url[, settings])</code>：</p>
<ul>
<li>url：请求地址；</li>
<li>type：请求的类型GET或POST；</li>
<li>data：发送给服务器的数据；<ul>
<li>格式一：key=value；</li>
<li>格式二：{key:value}。</li>
</ul>
</li>
<li>success：请求成功，响应的回调函数；</li>
<li>dataType：响应的数据类型。<ul>
<li>常用的数据类型：<ul>
<li>text：表示纯文本；</li>
<li>xml：表示xml数据；</li>
<li>json：表示json对象。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="get方法和-post方法"><a href="#get方法和-post方法" class="headerlink" title="$.get方法和$post方法"></a>$.get方法和$post方法</h4><p>通过远程HTTP GET/HTTP POST请求载入信息。</p>
<p>这是一个简单的GET/POST请求功能以取代复杂的$.ajax。请求成功时可调用回调函数。如果需要在出错时执行，请使用$.ajax。</p>
<p><code>$.get(url[, data][,success][, dataType])</code> |<code>$.post(url[, data][,success][, dataType])</code> ：</p>
<ul>
<li>url：待载入页面的URL地址；</li>
<li>data：待发送的Key/Value参数；</li>
<li>callback：载入成功时回调函数；</li>
<li>type：返回内容格式：xml,html,script,json,text,_default。</li>
</ul>
<h4 id="getJSON方法"><a href="#getJSON方法" class="headerlink" title="$.getJSON方法"></a>$.getJSON方法</h4><p>通过HTTP GET请求载入JSON数据</p>
<p> <code>$.getJSON( url[, data][, success(data, textStatus, jqXHR)])</code>：</p>
<ul>
<li>url：待载入页面的URL地址；</li>
<li>data：待发送的Key/Value参数；</li>
<li>callback：载入成功时回调函数。</li>
</ul>
<h4 id="表单序列化"><a href="#表单序列化" class="headerlink" title="表单序列化"></a>表单序列化</h4><p>表单序列化serialize()。serialize()可以把表单中所有表单项的内容都获取到并以<strong>name=value&amp;name=value</strong>的形式进行拼接。</p>
<h4 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="meta-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;pragma&quot;</span> <span class="attr">content</span>=<span class="string">&quot;no-cache&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;cache-control&quot;</span> <span class="attr">content</span>=<span class="string">&quot;no-cache&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Expires&quot;</span> <span class="attr">content</span>=<span class="string">&quot;0&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span>Insert title here<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;script/jquery-1.7.2.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span></span><br><span class="line"><span class="javascript">			$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">				<span class="comment">// ajax请求</span></span></span><br><span class="line"><span class="javascript">				$(<span class="string">&quot;#ajaxBtn&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					$.ajax(&#123;</span></span><br><span class="line"><span class="javascript">						url:<span class="string">&quot;http://localhost/Example/ajaxServlet&quot;</span>,</span></span><br><span class="line"><span class="javascript">						data:<span class="string">&quot;action=jQueryAjax&quot;</span>,</span></span><br><span class="line"><span class="javascript">						type:<span class="string">&quot;GET&quot;</span>,</span></span><br><span class="line"><span class="javascript">						success:<span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">							<span class="comment">// alert(&quot;服务器返回的数据是：&quot; + msg);</span></span></span><br><span class="line"><span class="javascript">							<span class="keyword">var</span> jsonObj = <span class="built_in">JSON</span>.parse(msg);</span></span><br><span class="line"><span class="javascript">							$(<span class="string">&quot;#msg&quot;</span>).html(<span class="string">&quot;ajax 编号：&quot;</span>+jsonObj.id+<span class="string">&quot;  姓名：&quot;</span>+jsonObj.name)</span></span><br><span class="line">						&#125;,</span><br><span class="line"><span class="javascript">						datatype:<span class="string">&quot;text&quot;</span></span></span><br><span class="line">					&#125;)</span><br><span class="line">				&#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">				<span class="comment">// ajax--get请求</span></span></span><br><span class="line"><span class="javascript">				$(<span class="string">&quot;#getBtn&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					$.get(<span class="string">&quot;http://localhost/Example/ajaxServlet&quot;</span>,<span class="string">&quot;action=jQueryGet&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">						$(<span class="string">&quot;#msg&quot;</span>).html(<span class="string">&quot;get 编号：&quot;</span>+data.id+<span class="string">&quot;  姓名：&quot;</span>+data.name)</span></span><br><span class="line"><span class="javascript">					&#125;, <span class="string">&quot;json&quot;</span>);</span></span><br><span class="line">				&#125;);</span><br><span class="line">				</span><br><span class="line"><span class="javascript">				<span class="comment">// ajax--post请求</span></span></span><br><span class="line"><span class="javascript">				$(<span class="string">&quot;#postBtn&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// post请求</span></span></span><br><span class="line"><span class="javascript">					$.post(<span class="string">&quot;http://localhost/Example/ajaxServlet&quot;</span>,<span class="string">&quot;action=jQueryPost&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">						$(<span class="string">&quot;#msg&quot;</span>).html(<span class="string">&quot;post 编号：&quot;</span>+data.id+<span class="string">&quot;  姓名：&quot;</span>+data.name)</span></span><br><span class="line"><span class="javascript">					&#125;, <span class="string">&quot;json&quot;</span>);</span></span><br><span class="line">				&#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">				<span class="comment">// ajax--getJson请求</span></span></span><br><span class="line"><span class="javascript">				$(<span class="string">&quot;#getJSONBtn&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// 调用</span></span></span><br><span class="line"><span class="javascript">					$.getJSON(<span class="string">&quot;http://localhost/Example/ajaxServlet&quot;</span>, <span class="string">&quot;action=jQueryGetJson&quot;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">						$(<span class="string">&quot;#msg&quot;</span>).html(<span class="string">&quot;getJson 编号：&quot;</span>+data.id+<span class="string">&quot;  姓名：&quot;</span>+data.name)</span></span><br><span class="line">					&#125;)</span><br><span class="line">				&#125;);</span><br><span class="line"></span><br><span class="line"><span class="javascript">				<span class="comment">// ajax请求</span></span></span><br><span class="line"><span class="javascript">				$(<span class="string">&quot;#submit&quot;</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">					<span class="comment">// 把参数序列化</span></span></span><br><span class="line"><span class="javascript">					<span class="comment">// alert($(&quot;#form01&quot;).serialize());</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">					$.getJSON(<span class="string">&quot;http://localhost/Example/ajaxServlet&quot;</span>, <span class="string">&quot;action=jQuerySerialize&amp;&quot;</span>+$(<span class="string">&quot;#form01&quot;</span>).serialize(), <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">						$(<span class="string">&quot;#msg&quot;</span>).html(<span class="string">&quot;serialize 编号：&quot;</span>+data.id+<span class="string">&quot;  姓名：&quot;</span>+data.name)</span></span><br><span class="line">					&#125;)</span><br><span class="line">				&#125;);</span><br><span class="line">				</span><br><span class="line">			&#125;);</span><br><span class="line">		<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;ajaxBtn&quot;</span>&gt;</span>$.ajax请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;getBtn&quot;</span>&gt;</span>$.get请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;postBtn&quot;</span>&gt;</span>$.post请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;getJSONBtn&quot;</span>&gt;</span>$.getJSON请求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">br</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">&quot;form01&quot;</span> &gt;</span></span><br><span class="line">			用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">			下拉单选：<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;single&quot;</span>&gt;</span></span><br><span class="line">			  	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Single&quot;</span>&gt;</span>Single<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">			  	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Single2&quot;</span>&gt;</span>Single2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		  	下拉多选：</span><br><span class="line">		  	<span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;multiple&quot;</span> <span class="attr">multiple</span>=<span class="string">&quot;multiple&quot;</span>&gt;</span></span><br><span class="line">		    	<span class="tag">&lt;<span class="name">option</span> <span class="attr">selected</span>=<span class="string">&quot;selected&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Multiple&quot;</span>&gt;</span>Multiple<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">		    	<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;Multiple2&quot;</span>&gt;</span>Multiple2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">		    	<span class="tag">&lt;<span class="name">option</span> <span class="attr">selected</span>=<span class="string">&quot;selected&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Multiple3&quot;</span>&gt;</span>Multiple3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">		  	<span class="tag">&lt;/<span class="name">select</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		  	复选：</span><br><span class="line">		 	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;check&quot;</span> <span class="attr">value</span>=<span class="string">&quot;check1&quot;</span>/&gt;</span> check1</span><br><span class="line">		 	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">name</span>=<span class="string">&quot;check&quot;</span> <span class="attr">value</span>=<span class="string">&quot;check2&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span>/&gt;</span> check2<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		 	单选：</span><br><span class="line">		 	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;radio1&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span>/&gt;</span> radio1</span><br><span class="line">		 	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&quot;radio2&quot;</span>/&gt;</span> radio2<span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">form</span>&gt;</span>			</span><br><span class="line">		<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;submit&quot;</span>&gt;</span>提交--serialize()<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="i18n国际化（了解）"><a href="#i18n国际化（了解）" class="headerlink" title="i18n国际化（了解）"></a><em>i18n国际化（了解）</em></h2><h3 id="什么是i18n国际化"><a href="#什么是i18n国际化" class="headerlink" title="什么是i18n国际化"></a>什么是i18n国际化</h3><ul>
<li>国际化(Internationalization) 指的是同一个网站可以支持多种不同的语言，以方便不同国家，不同语种的用户访问。</li>
<li>关于国际化我们想到的最简单的方案就是为不同的国家创建不同的网站，比如苹果公司，他的英文官网是:<a target="_blank" rel="noopener" href="http://www.apple.com而中国官网是htp//ww.apple.com/cn%E3%80%82">http://www.apple.com而中国官网是htp://ww.apple.com/cn。</a></li>
<li>苹果公司这种方案并不适合全部公司，而我们希望相同的一个网站，而不同人访问的时候可以根据用户所在的区域显示，不同的语言文字，而网站的布局样式等不发生改变。于是就有了我们说的国际化，国际化总的来说就是同一个网站不同国家的人来访问可以显示出不同的语言。但实际上这种需求并不强烈，- 般真的有国际化需求的公司，主流采用的依然是苹果公司的那种方案，为不同的国家创建不同的页面。所以国际化的内容我们了解一-下即可。</li>
<li>国际化的英文Internationalization,但是由于拼写过长，老外想了一个简 单的写法叫做18N，国际化的英文Internationalization，以1开头，以N结尾，而中间是18个字母，所以简写为I18N。以后我们说18N和国际化是-一个意思。</li>
</ul>
<h3 id="国际化相关要素介绍"><a href="#国际化相关要素介绍" class="headerlink" title="国际化相关要素介绍"></a>国际化相关要素介绍</h3><p><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/Java/JavaWeb/%E5%9B%BD%E9%99%85%E5%8C%96%E7%9B%B8%E5%85%B3%E8%A6%81%E7%B4%A0%E5%9B%BE%E7%A4%BA.jpg" alt="1-13"></p>
<h3 id="国际化资源-properties-测试"><a href="#国际化资源-properties-测试" class="headerlink" title="国际化资源 properties 测试"></a>国际化资源 properties 测试</h3><p>配置两个语言的配置文件。</p>
<p>i18n_en_US.properties 英文 ：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">username</span>=<span class="string">username</span></span><br><span class="line"><span class="attr">pas</span> <span class="string">sword=password</span></span><br><span class="line"><span class="attr">sex</span>=<span class="string">sex</span></span><br><span class="line"><span class="attr">age</span>=<span class="string">age</span></span><br><span class="line"><span class="attr">regist</span>=<span class="string">regist</span></span><br><span class="line"><span class="attr">boy</span>=<span class="string">boy</span></span><br><span class="line"><span class="attr">email</span>=<span class="string">email</span></span><br><span class="line"><span class="attr">gir1</span>=<span class="string">gir1</span></span><br><span class="line"><span class="attr">reset</span>=<span class="string">reset</span></span><br><span class="line"><span class="attr">submit</span>=<span class="string">submit</span></span><br></pre></td></tr></table></figure>

<p>i18n_zh_CN.properties 中文 ：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">username</span>=<span class="string">用户名</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">密码</span></span><br><span class="line"><span class="attr">sex</span>=<span class="string">性别</span></span><br><span class="line"><span class="attr">age</span>=<span class="string">年龄</span></span><br><span class="line"><span class="attr">regist</span>=<span class="string">注册</span></span><br><span class="line"><span class="attr">boy</span>=<span class="string">男</span></span><br><span class="line"><span class="attr">gir1</span>=<span class="string">女</span></span><br><span class="line"><span class="attr">email</span>=<span class="string">邮箱</span></span><br><span class="line"><span class="attr">reset</span>=<span class="string">重置</span></span><br><span class="line"><span class="attr">submit</span>=<span class="string">提交</span></span><br></pre></td></tr></table></figure>

<p>国际化测试代码： </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">I18nTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testLocale</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//获取你系统默认的语言。国家信息</span></span><br><span class="line">        <span class="comment">// Locale Locale = Locale. getDefault();</span></span><br><span class="line">        <span class="comment">// System. out. println(Locale);</span></span><br><span class="line">        <span class="comment">// for (Locale availableLocale : Locale. getAvailableLocales()) &#123;</span></span><br><span class="line">        <span class="comment">// System. out. println(availableLocale);</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 获取中文， 中文的常量的 Locale对象</span></span><br><span class="line">        System.out.println(Locale.CHINA);</span><br><span class="line">        <span class="comment">//获取英文，美国的常量的Locale对象</span></span><br><span class="line">        System.out.println(Locale.US);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testI18n</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//得到我们需要的Locale对象</span></span><br><span class="line">        Locale locale = Locale.CHINA;</span><br><span class="line">        <span class="comment">//通过指定的basename和Locale对象，读取相应的配置文件</span></span><br><span class="line">        ResourceBundle bundle = ResourceBundle.getBundLe(<span class="string">&quot;118n&quot;</span>，locale);</span><br><span class="line">        System.out.println( <span class="string">&quot;username:&quot;</span>+ bundle.getString(<span class="string">&quot;username&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;password:&quot;</span>+ bundle.getString(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;Sex:&quot;</span>+ bundle.getString(<span class="string">&quot;sex&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;age:&quot;</span> + bundle.getString(<span class="string">&quot;age&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="通过请求头国际化页面"><a href="#通过请求头国际化页面" class="headerlink" title="通过请求头国际化页面"></a>通过请求头国际化页面</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.Locale&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot; java.util.ResourceBundle&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot; text/htm1; charset=UTF-8&quot;</span> pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!IDOCTYPE html PUBLIC -/<span class="number">3</span><span class="comment">//D HTML 4.01 Taistian//E‘ht:://w.//@/t/4/oo30 dtd&quot;&gt;&quot;</span></span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta http-equiv=<span class="string">&quot;pragma&quot;</span> content=<span class="string">&quot;no-cache&quot;</span> /&gt;</span><br><span class="line">        &lt;meta http-equiv=<span class="string">&quot;cache-contro1&quot;</span> content=<span class="string">&quot;no-cache&quot;</span> /&gt;</span><br><span class="line">        &lt;meta http-equiv=<span class="string">&quot;Expires&quot;</span> content=<span class="string">&quot;g&quot;</span> /&gt;</span><br><span class="line">        &lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">        &lt;tit1e&gt;Insert title here&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="comment">//从请求头中获取Locale信息(语言)</span></span><br><span class="line">        Locale locale = request.getLocale();</span><br><span class="line">        System.out.println(locale);</span><br><span class="line">        <span class="comment">//获取读取包(根据指定的baseName和Locale读取语言信息)</span></span><br><span class="line">        ResourceBundle i18n = ResourceBundle.getBundle(<span class="string">&quot;i18n&quot;</span>, locale);</span><br><span class="line">    %&gt;</span><br><span class="line">    &lt;a href=&quot;&quot;&gt;中文&lt;/a&gt;|</span><br><span class="line">    &lt;a href=&quot;&quot;&gt;english&lt;/a&gt;</span><br><span class="line">    &lt;center&gt;</span><br><span class="line">        &lt;h1&gt;&lt;%=i18n.getString(&quot;regist&quot;)%&gt;&lt;/h1&gt;</span><br><span class="line">        &lt;table&gt;</span><br><span class="line">            &lt;form&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;td&gt;&lt;%=18n. getString( &quot;username&quot; )%&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;&lt;input name=&quot;username&quot; type=&quot;text&quot; /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;td&gt;&lt;%=i18n.getString(&quot;password&quot;)%&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;&lt;input type=&quot;password&quot; /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;td&gt;&lt;%=i18n . getString(&quot;sex&quot; )%&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt;</span><br><span class="line">                        &lt;input type=<span class="string">&quot;radio&quot;</span> /&gt;&lt;%=i18n.getString(<span class="string">&quot;boy&quot;</span>)%&gt;</span><br><span class="line">                        &lt;input type=<span class="string">&quot;radio&quot;</span> /&gt;&lt;%=i18n.getString(<span class="string">&quot;gir1&quot;</span>)%&gt;</span><br><span class="line">                    &lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;td&gt;&lt;%=i18n.getString(&quot;email&quot; )%&gt;&lt;/td&gt;</span><br><span class="line">                    &lt;td&gt; &lt;input type=&quot;text&quot; /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;td colspan=<span class="string">&quot;2&quot;</span> align=<span class="string">&quot; center&quot;</span>&gt;</span><br><span class="line">                    &lt;input type=<span class="string">&quot;reset&quot;</span> value=<span class="string">&quot;&lt;%= i18n.getString(&quot;</span>reset<span class="string">&quot;)%&gt;&quot;</span> /&gt;&amp;nbsp; &amp;nbsp;</span><br><span class="line">                    &lt;input type=&quot;submit&quot; value=&quot;&lt;%=i18n.getString(&quot;submit&quot;)%&gt;&quot; /&gt;&lt;/td&gt;</span><br><span class="line">                &lt;/tr&gt;</span><br><span class="line">            &lt;/form&gt;</span><br><span class="line">        &lt;/table&gt;</span><br><span class="line">            &lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;</span><br><span class="line">    &lt;/center&gt;</span><br><span class="line">    国际化测试：</span><br><span class="line">    &lt;br /&gt; <span class="number">1</span>、访问页面，通过浏览器设置，请求头信息确定国际化语言。</span><br><span class="line">    &lt;br /&gt; <span class="number">2</span>、通过左上角，手动切换语言</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h3 id="JSTL-标签库实现国际化"><a href="#JSTL-标签库实现国际化" class="headerlink" title="JSTL 标签库实现国际化"></a>JSTL 标签库实现国际化</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;fmt&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page language=<span class="string">&quot;java&quot;</span> contentType=<span class="string">&quot;text/html; charset=UTF-8&quot;</span></span><br><span class="line">	pageEncoding=<span class="string">&quot;UTF-8&quot;</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;pragma&quot;</span> content=<span class="string">&quot;no-cache&quot;</span> /&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;cache-control&quot;</span> content=<span class="string">&quot;no-cache&quot;</span> /&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Expires&quot;</span> content=<span class="string">&quot;0&quot;</span> /&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">&quot;Content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;%--<span class="number">1</span> 使用标签设置Locale信息--%&gt;</span><br><span class="line">	&lt;fmt:setLocale value=<span class="string">&quot;$&#123;param.locale&#125;&quot;</span> /&gt;</span><br><span class="line">	&lt;%--<span class="number">2</span> 使用标签设置baseName--%&gt;</span><br><span class="line">	&lt;fmt:setBundle basename=<span class="string">&quot;i18n&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&lt;a href=&quot;i18n_fmt.jsp?locale=zh_CN&quot;&gt;中文&lt;/a&gt;|</span><br><span class="line">	&lt;a href=&quot;i18n_fmt.jsp?locale=en_US&quot;&gt;english&lt;/a&gt;</span><br><span class="line">	&lt;center&gt;</span><br><span class="line">		&lt;h1&gt;&lt;fmt:message key=&quot;regist&quot; /&gt;&lt;/h1&gt;</span><br><span class="line">		&lt;table&gt;</span><br><span class="line">		&lt;form&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td&gt;&lt;fmt:message key=&quot;username&quot; /&gt;&lt;/td&gt;</span><br><span class="line">				&lt;td&gt;&lt;input name=&quot;username&quot; type=&quot;text&quot; /&gt;&lt;/td&gt;</span><br><span class="line">			&lt;/tr&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td&gt;&lt;fmt:message key=&quot;password&quot; /&gt;&lt;/td&gt;</span><br><span class="line">				&lt;td&gt;&lt;input type=&quot;password&quot; /&gt;&lt;/td&gt;</span><br><span class="line">			&lt;/tr&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td&gt;&lt;fmt:message key=&quot;sex&quot; /&gt;&lt;/td&gt;</span><br><span class="line">				&lt;td&gt;</span><br><span class="line">					&lt;input type=<span class="string">&quot;radio&quot;</span> /&gt;&lt;fmt:message key=<span class="string">&quot;boy&quot;</span> /&gt;</span><br><span class="line">					&lt;input type=<span class="string">&quot;radio&quot;</span> /&gt;&lt;fmt:message key=<span class="string">&quot;girl&quot;</span> /&gt;</span><br><span class="line">				&lt;/td&gt;</span><br><span class="line">			&lt;/tr&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td&gt;&lt;fmt:message key=&quot;email&quot; /&gt;&lt;/td&gt;</span><br><span class="line">				&lt;td&gt;&lt;input type=&quot;text&quot; /&gt;&lt;/td&gt;</span><br><span class="line">			&lt;/tr&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td colspan=<span class="string">&quot;2&quot;</span> align=<span class="string">&quot;center&quot;</span>&gt;</span><br><span class="line">				&lt;input type=<span class="string">&quot;reset&quot;</span> value=<span class="string">&quot;&lt;fmt:message key=&quot;</span>reset<span class="string">&quot; /&gt;&quot;</span> /&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">				&lt;input type=&quot;submit&quot; value=&quot;&lt;fmt:message key=&quot;submit&quot; /&gt;&quot; /&gt;&lt;/td&gt;</span><br><span class="line">			&lt;/tr&gt;</span><br><span class="line">			&lt;/form&gt;</span><br><span class="line">		&lt;/table&gt;</span><br><span class="line">		&lt;br /&gt; &lt;br /&gt; &lt;br /&gt; &lt;br /&gt;</span><br><span class="line">	&lt;/center&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li><a target="_blank" rel="noopener" href="http://tomcat.apache.org/tomcat-8.5-doc/index.html">Apache Tomcat 8</a></li>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Y7411K7zz?from=search&seid=1088368336979331569">尚硅谷2020最新版JavaWeb全套教程,java web零基础入门完整版</a> <em>(本笔记就是根据该视频进行整理的，笔记里大多图文都是截自此处。)</em></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/jquery/jquery-tutorial.html">jQuery 教程_菜鸟教程</a></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Luxnln</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://github.com/luxnln/luxnln.github.io/2020/12/21/JavaWeb%E7%AC%94%E8%AE%B0/">https://github.com/luxnln/luxnln.github.io/2020/12/21/JavaWeb笔记/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://github.com/luxnln/luxnln.github.io" target="_blank">luxnln</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaWeb/">JavaWeb</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover23.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/12/22/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"><img class="prev-cover" src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover14.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">代理模式</div></div></a></div><div class="next-post pull-right"><a href="/2020/12/21/Tomcat%E7%AC%94%E8%AE%B0/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover13.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Tomcat笔记</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/12/21/Tomcat笔记/" title="Tomcat笔记"><img class="cover" src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover13.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-12-21</div><div class="title">Tomcat笔记</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Gitalk</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/head/rocket.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Luxnln</div><div class="author-info__description">一只奋斗的咸鱼</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">22</div></a></div></div><a class="button--animated" id="card-info-btn" href="https://github.com/luxnln/"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/luxnln" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss"></i></a><a class="social-icon" href="mailto:luxinlin.las@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">一只年轻的博客~</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaWeb%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">JavaWeb的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJavaWeb%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">什么是JavaWeb？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94"><span class="toc-number">1.2.</span> <span class="toc-text">请求和响应</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Web%E8%B5%84%E6%BA%90%E5%88%86%E7%B1%BB"><span class="toc-number">1.3.</span> <span class="toc-text">Web资源分类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Servlet"><span class="toc-number">2.</span> <span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Servlet%E6%8A%80%E6%9C%AF"><span class="toc-number">2.1.</span> <span class="toc-text">Servlet技术</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0Servlet%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.1.1.</span> <span class="toc-text">实现Servlet程序</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Servlet-rul%E5%A6%82%E4%BD%95%E5%AE%9A%E4%BD%8D%E5%88%B0Servlet%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%8E%BB%E8%AE%BF%E9%97%AE"><span class="toc-number">2.1.1.1.</span> <span class="toc-text">Servlet-rul如何定位到Servlet程序中去访问</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Servlet%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">2.1.2.</span> <span class="toc-text">Servlet的生命周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Servlet%E8%AF%B7%E6%B1%82%E5%88%86%E5%8F%91%E5%A4%84%E7%90%86"><span class="toc-number">2.1.3.</span> <span class="toc-text">Servlet请求分发处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E7%BB%A7%E6%89%BFHttpServlet%E7%B1%BB%E5%AE%9E%E7%8E%B0Servlet%E7%A8%8B%E5%BA%8F"><span class="toc-number">2.1.4.</span> <span class="toc-text">通过继承HttpServlet类实现Servlet程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B4%E4%B8%AAServlet%E7%B1%BB%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%A7%E6%89%BF"><span class="toc-number">2.1.5.</span> <span class="toc-text">整个Servlet类的体系继承</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ServletConfig%E7%B1%BB"><span class="toc-number">2.2.</span> <span class="toc-text">ServletConfig类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ServletConfig%E7%B1%BB%E7%9A%84%E4%B8%89%E5%A4%A7%E4%BD%9C%E7%94%A8"><span class="toc-number">2.2.1.</span> <span class="toc-text">ServletConfig类的三大作用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ServletContext%E7%B1%BB"><span class="toc-number">2.3.</span> <span class="toc-text">ServletContext类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFServletContext"><span class="toc-number">2.3.1.</span> <span class="toc-text">什么是ServletContext</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ServletContext%E7%B1%BB%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">2.3.2.</span> <span class="toc-text">ServletContext类的作用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HTTP%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.4.</span> <span class="toc-text">HTTP协议</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFHTTP%E5%8D%8F%E8%AE%AE"><span class="toc-number">2.4.1.</span> <span class="toc-text">什么是HTTP协议</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E6%B1%82%E7%9A%84HTTP%E5%8D%8F%E8%AE%AE%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.4.2.</span> <span class="toc-text">请求求的HTTP协议格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-number">2.4.3.</span> <span class="toc-text"></span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E7%9A%84HTTP%E5%8D%8F%E8%AE%AE%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.4.4.</span> <span class="toc-text">响应的HTTP协议格式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%93%8D%E5%BA%94%E7%A0%81%E8%AF%B4%E6%98%8E"><span class="toc-number">2.4.4.1.</span> <span class="toc-text">常用的响应码说明</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#MIME%E7%B1%BB%E5%9E%8B%E8%AF%B4%E6%98%8E"><span class="toc-number">2.4.4.2.</span> <span class="toc-text">MIME类型说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HttpServletRequest%E7%B1%BB"><span class="toc-number">2.5.</span> <span class="toc-text">HttpServletRequest类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HttpServletRequest%E7%B1%BB%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8"><span class="toc-number">2.5.1.</span> <span class="toc-text">HttpServletRequest类有什么作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HttpServletRequest%E7%B1%BB%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.5.2.</span> <span class="toc-text">HttpServletRequest类的常用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8F%82%E6%95%B0%E5%80%BC"><span class="toc-number">2.5.3.</span> <span class="toc-text">如何获取请求的参数值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E7%9A%84%E8%BD%AC%E5%8F%91"><span class="toc-number">2.5.4.</span> <span class="toc-text">请求的转发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#base%E6%A0%87%E7%AD%BE"><span class="toc-number">2.5.5.</span> <span class="toc-text">base标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#web%E4%B8%AD%E6%96%9C%E6%9D%86-%E7%9A%84%E4%B8%8D%E5%90%8C%E6%84%8F%E4%B9%89"><span class="toc-number">2.5.6.</span> <span class="toc-text">web中斜杆(&#x2F;)的不同意义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HttpServletResponse%E7%B1%BB"><span class="toc-number">2.6.</span> <span class="toc-text">HttpServletResponse类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HttpServletResponse%E7%B1%BB%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">2.6.1.</span> <span class="toc-text">HttpServletResponse类的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E8%BE%93%E5%87%BA%E6%B5%81%E7%9A%84%E8%AF%B4%E6%98%8E"><span class="toc-number">2.6.2.</span> <span class="toc-text">两个输出流的说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%BE%80%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%9B%9E%E4%BC%A0%E6%95%B0%E6%8D%AE"><span class="toc-number">2.6.3.</span> <span class="toc-text">如何往客户端回传数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9E%E4%BC%A0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span class="toc-number">2.6.4.</span> <span class="toc-text">回传中文乱码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">2.6.5.</span> <span class="toc-text">请求重定向</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JavaEE%E7%9A%84%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">2.7.</span> <span class="toc-text">JavaEE的三层架构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSP"><span class="toc-number">3.</span> <span class="toc-text">JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJSP%E5%8F%8A%E5%85%B6%E4%BD%9C%E7%94%A8"><span class="toc-number">3.1.</span> <span class="toc-text">什么是JSP及其作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E7%9A%84%E6%9C%AC%E8%B4%A8%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">3.2.</span> <span class="toc-text">JSP的本质是什么?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="toc-number">3.3.</span> <span class="toc-text">JSP常用指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSP%E5%A4%B4%E9%83%A8%E7%9A%84page%E6%8C%87%E4%BB%A4"><span class="toc-number">3.3.1.</span> <span class="toc-text">JSP头部的page指令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E8%84%9A%E6%9C%AC"><span class="toc-number">3.4.</span> <span class="toc-text">JSP脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E8%84%9A%E6%9C%AC-%E6%9E%81%E5%B0%91%E4%BD%BF%E7%94%A8"><span class="toc-number">3.4.1.</span> <span class="toc-text">声明脚本(极少使用)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%84%9A%E6%9C%AC-%E5%B8%B8%E7%94%A8"><span class="toc-number">3.4.2.</span> <span class="toc-text">表达式脚本(常用)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E8%84%9A%E6%9C%AC"><span class="toc-number">3.4.3.</span> <span class="toc-text">代码脚本</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E4%B8%AD%E7%9A%84%E4%B8%89%E7%A7%8D%E6%B3%A8%E9%87%8A"><span class="toc-number">3.5.</span> <span class="toc-text">JSP中的三种注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E4%B8%AD%E7%9A%84%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.6.</span> <span class="toc-text">JSP中的九大内置对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E5%9B%9B%E5%A4%A7%E5%9F%9F%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.7.</span> <span class="toc-text">JSP四大域对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E4%B8%AD%E7%9A%84out%E8%BE%93%E5%87%BA%E5%92%8Cresponse-getWriter%E8%BE%93%E5%87%BA%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.8.</span> <span class="toc-text">JSP中的out输出和response.getWriter输出的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSP%E7%9A%84%E5%B8%B8%E7%94%A8%E6%A0%87%E7%AD%BE"><span class="toc-number">3.9.</span> <span class="toc-text">JSP的常用标签</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#jsp%E9%9D%99%E6%80%81%E5%8C%85%E5%90%AB"><span class="toc-number">3.9.1.</span> <span class="toc-text">jsp静态包含</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jsp%E5%8A%A8%E6%80%81%E5%8C%85%E5%90%AB"><span class="toc-number">3.9.2.</span> <span class="toc-text">jsp动态包含</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jsp%E6%A0%87%E7%AD%BE-%E8%BD%AC%E5%8F%91"><span class="toc-number">3.9.3.</span> <span class="toc-text">jsp标签-转发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.9.4.</span> <span class="toc-text">示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Listener"><span class="toc-number">4.</span> <span class="toc-text">Listener</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFlistener%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-number">4.1.</span> <span class="toc-text">什么是listener监听器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ServletContextListener%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-number">4.2.</span> <span class="toc-text">ServletContextListener监听器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8ServletContextListener%E7%9B%91%E5%90%AC%E5%99%A8"><span class="toc-number">4.2.1.</span> <span class="toc-text">如何使用ServletContextListener监听器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#EL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">5.</span> <span class="toc-text">EL表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFEL%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8F%8A%E5%85%B6%E4%BD%9C%E7%94%A8"><span class="toc-number">5.1.</span> <span class="toc-text">什么是EL表达式及其作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EL%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%9F%9F%E6%95%B0%E6%8D%AE%E7%9A%84%E9%A1%BA%E5%BA%8F"><span class="toc-number">5.2.</span> <span class="toc-text">EL表达式搜索域数据的顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EL%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BE%93%E5%87%BABean%E7%9A%84%E6%99%AE%E9%80%9A%E5%B1%9E%E6%80%A7%E3%80%81%E6%95%B0%E7%BB%84%E5%B1%9E%E6%80%A7%E3%80%81List%E7%BB%84%E5%90%88%E5%B1%9E%E6%80%A7%E5%92%8Cmap%E9%9B%86%E5%90%88%E5%B1%9E%E6%80%A7"><span class="toc-number">5.3.</span> <span class="toc-text">EL表达式输出Bean的普通属性、数组属性、List组合属性和map集合属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EL%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%BF%90%E7%AE%97"><span class="toc-number">5.4.</span> <span class="toc-text">EL表达式运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97"><span class="toc-number">5.4.1.</span> <span class="toc-text">关系运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="toc-number">5.4.2.</span> <span class="toc-text">逻辑运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-number">5.4.3.</span> <span class="toc-text">算数运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#empty%E8%BF%90%E7%AE%97"><span class="toc-number">5.4.4.</span> <span class="toc-text">empty运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97"><span class="toc-number">5.4.5.</span> <span class="toc-text">三元运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%82%B9%E8%BF%90%E7%AE%97%E5%92%8C%E4%B8%AD%E6%8B%AC%E5%8F%B7%E8%BF%90%E7%AE%97"><span class="toc-number">5.4.6.</span> <span class="toc-text">点运算和中括号运算</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EL%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%8411%E4%B8%AA%E9%9A%90%E5%90%AB%E5%AF%B9%E8%B1%A1"><span class="toc-number">5.4.7.</span> <span class="toc-text">EL表达式的11个隐含对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EL%E8%8E%B7%E5%8F%96%E5%9B%9B%E4%B8%AA%E7%89%B9%E5%AE%9A%E5%9F%9F%E4%B8%AD%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-number">5.4.8.</span> <span class="toc-text">EL获取四个特定域中的属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pageContext%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.4.9.</span> <span class="toc-text">pageContext对象的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EL%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%B6%E5%AE%83%E9%9A%90%E5%90%AB%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">5.4.10.</span> <span class="toc-text">EL表达式其它隐含对象的使用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSTL%E6%A0%87%E7%AD%BE%E5%BA%93"><span class="toc-number">6.</span> <span class="toc-text">JSTL标签库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJSTL%E6%A0%87%E7%AD%BE%E5%BA%93"><span class="toc-number">6.1.</span> <span class="toc-text">什么是JSTL标签库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSTL%E7%94%B1%E4%BA%94%E4%B8%AA%E4%B8%8D%E5%90%8C%E5%8A%9F%E8%83%BD%E7%9A%84%E6%A0%87%E7%AD%BE%E5%BA%93%E7%BB%84%E6%88%90"><span class="toc-number">6.2.</span> <span class="toc-text">JSTL由五个不同功能的标签库组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8JSP%E6%A0%87%E7%AD%BE%E5%BA%93%E4%B8%AD%E4%BD%BF%E7%94%A8taglib%E6%8C%87%E4%BB%A4%E5%BC%95%E5%85%A5%E6%A0%87%E7%AD%BE%E5%BA%93"><span class="toc-number">6.3.</span> <span class="toc-text">在JSP标签库中使用taglib指令引入标签库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSTL%E6%A0%87%E7%AD%BE%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">6.4.</span> <span class="toc-text">JSTL标签库的使用步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#core%E6%A0%B8%E5%BF%83%E5%BA%93%E4%BD%BF%E7%94%A8"><span class="toc-number">6.5.</span> <span class="toc-text">core核心库使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#set%E6%A0%87%E7%AD%BE"><span class="toc-number">6.5.1.</span> <span class="toc-text">set标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#if%E6%A0%87%E7%AD%BE"><span class="toc-number">6.5.2.</span> <span class="toc-text">if标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#choose%E3%80%81when%E5%92%8Cdefault%E6%A0%87%E7%AD%BE"><span class="toc-number">6.5.3.</span> <span class="toc-text">choose、when和default标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#forEach%E6%A0%87%E7%AD%BE"><span class="toc-number">6.5.4.</span> <span class="toc-text">forEach标签</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD"><span class="toc-number">7.</span> <span class="toc-text">文件的上传和下载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%8A%E4%BC%A0"><span class="toc-number">7.1.</span> <span class="toc-text">文件的上传</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%9A%84http%E5%8D%8F%E8%AE%AE%E5%86%85%E5%AE%B9%E4%BB%8B%E7%BB%8D"><span class="toc-number">7.1.1.</span> <span class="toc-text">文件上传的http协议内容介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#commons-fileupload-jar%E5%B8%B8%E7%94%A8API%E4%BB%8B%E7%BB%8D%E8%AF%B4%E6%98%8E"><span class="toc-number">7.1.2.</span> <span class="toc-text">commons-fileupload.jar常用API介绍说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8fileupload%E8%A7%A3%E6%9E%90%E4%B8%8A%E4%BC%A0%E6%95%B0%E6%8D%AE"><span class="toc-number">7.1.3.</span> <span class="toc-text">使用fileupload解析上传数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%8B%E8%BD%BD"><span class="toc-number">7.2.</span> <span class="toc-text">文件的下载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8URLEncoder%E8%A7%A3%E5%86%B3%E8%B0%B7%E6%AD%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8CIE%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E6%96%87%E4%B8%8B%E8%BD%BD%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">7.2.1.</span> <span class="toc-text">使用URLEncoder解决谷歌浏览器和IE浏览器中文下载乱码问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Base64%E7%BC%96%E8%A7%A3%E7%A0%81%E6%93%8D%E4%BD%9C"><span class="toc-number">7.2.2.</span> <span class="toc-text">Base64编解码操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BASE64%E7%BC%96%E8%A7%A3%E7%A0%81%E8%A7%A3%E5%86%B3%E7%81%AB%E7%8B%90%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E9%99%84%E4%BB%B6%E4%B8%AD%E6%96%87%E5%90%8D%E9%97%AE%E9%A2%98"><span class="toc-number">7.2.3.</span> <span class="toc-text">BASE64编解码解决火狐浏览器的附件中文名问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87User-Agent%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%88%A4%E6%96%AD%EF%BC%8C%E5%8A%A8%E6%80%81%E5%88%87%E6%8D%A2%E4%B8%8D%E5%90%8C%E7%9A%84%E6%96%B9%E6%A1%88%E8%A7%A3%E5%86%B3%E6%89%80%E6%9C%89%E6%B5%8F%E8%A7%88%E5%99%A8%E9%99%84%E4%BB%B6%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">7.2.4.</span> <span class="toc-text">通过User-Agent请求头判断，动态切换不同的方案解决所有浏览器附件中文乱码问题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cookie"><span class="toc-number">8.</span> <span class="toc-text">Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFCookie"><span class="toc-number">8.1.</span> <span class="toc-text">什么是Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BACookie"><span class="toc-number">8.2.</span> <span class="toc-text">如何创建Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96Cookie"><span class="toc-number">8.3.</span> <span class="toc-text">如何获取Cookie</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9Cookie%E7%9A%84%E5%80%BC"><span class="toc-number">8.4.</span> <span class="toc-text">如何修改Cookie的值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-number">8.4.1.</span> <span class="toc-text">方法一</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-number">8.4.2.</span> <span class="toc-text">方法二</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cookie%E8%83%BD%E4%B8%8D%E8%83%BD%E5%AD%98%E4%B8%AD%E6%96%87"><span class="toc-number">8.5.</span> <span class="toc-text">cookie能不能存中文?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie%E7%9A%84%E7%94%9F%E5%91%BD%E6%8E%A7%E5%88%B6"><span class="toc-number">8.6.</span> <span class="toc-text">Cookie的生命控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie%E6%9C%89%E6%95%88%E8%B7%AF%E5%BE%84Path%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="toc-number">8.7.</span> <span class="toc-text">Cookie有效路径Path的设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ookie%E7%9A%84%E7%89%B9%E7%82%B9%E5%92%8C%E4%BD%9C%E7%94%A8"><span class="toc-number">8.8.</span> <span class="toc-text">ookie的特点和作用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Cookie%E7%BB%83%E4%B9%A0%E2%80%93%E5%85%8D%E8%BE%93%E5%85%A5%E7%94%A8%E6%88%B7%E5%90%8D%E7%99%BB%E5%BD%95"><span class="toc-number">8.9.</span> <span class="toc-text">Cookie练习–免输入用户名登录</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Session"><span class="toc-number">9.</span> <span class="toc-text">Session</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFSession%E4%BC%9A%E8%AF%9D"><span class="toc-number">9.1.</span> <span class="toc-text">什么是Session会话</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BASession%E5%92%8C%E8%8E%B7%E5%8F%96-id%E5%8F%B7%EF%BC%8C%E6%98%AF%E5%90%A6%E4%B8%BA%E6%96%B0"><span class="toc-number">9.2.</span> <span class="toc-text">如何创建Session和获取(id号，是否为新)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Session%E5%9F%9F%E4%B8%AD%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%98%E5%8F%96"><span class="toc-number">9.3.</span> <span class="toc-text">Session域中数据的存取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Session%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8E%A7%E5%88%B6"><span class="toc-number">9.4.</span> <span class="toc-text">4 Session生命周期控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#session%E7%89%B9%E7%82%B9"><span class="toc-number">9.5.</span> <span class="toc-text">session特点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#session%E5%92%8Ccookie%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9A"><span class="toc-number">9.6.</span> <span class="toc-text">session和cookie的区别：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8CSession%E4%B9%8B%E9%97%B4%E5%85%B3%E8%81%94%E7%9A%84%E6%8A%80%E6%9C%AF"><span class="toc-number">9.7.</span> <span class="toc-text">浏览器和Session之间关联的技术</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Filter"><span class="toc-number">10.</span> <span class="toc-text">Filter</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFFilter%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">10.1.</span> <span class="toc-text">什么是Filter过滤器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Filter%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">10.2.</span> <span class="toc-text">Filter的基本使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Filter%E8%BF%87%E6%BB%A4%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="toc-number">10.2.1.</span> <span class="toc-text">Filter过滤器的使用步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-1"><span class="toc-number">10.2.2.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Filter%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">10.3.</span> <span class="toc-text">Filter的生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FilterConfig%E7%B1%BB"><span class="toc-number">10.4.</span> <span class="toc-text">FilterConfig类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FilterChain%E8%BF%87%E6%BB%A4%E5%99%A8%E9%93%BE"><span class="toc-number">10.5.</span> <span class="toc-text">FilterChain过滤器链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Filter%E7%9A%84%E6%8B%A6%E6%88%AA%E8%B7%AF%E5%BE%84"><span class="toc-number">10.6.</span> <span class="toc-text">Filter的拦截路径</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON"><span class="toc-number">11.</span> <span class="toc-text">JSON</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFJSON"><span class="toc-number">11.1.</span> <span class="toc-text">什么是JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON%E5%9C%A8JavScript%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">11.2.</span> <span class="toc-text">JSON在JavScript中的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">11.2.1.</span> <span class="toc-text">JSON的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON%E7%9A%84%E8%AE%BF%E9%97%AE"><span class="toc-number">11.2.2.</span> <span class="toc-text">JSON的访问</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSON%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">11.2.3.</span> <span class="toc-text">JSON的两个常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSON%E5%9C%A8java%E4%B8%AD%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">11.3.</span> <span class="toc-text">JSON在java中的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JavaBean%E5%92%8Cjson%E7%9A%84%E4%BA%92%E8%BD%AC"><span class="toc-number">11.3.1.</span> <span class="toc-text">JavaBean和json的互转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List%E5%92%8Cjson%E7%9A%84%E4%BA%92%E8%BD%AC"><span class="toc-number">11.3.2.</span> <span class="toc-text">List和json的互转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Map%E5%92%8Cjson%E7%9A%84%E4%BA%92%E8%BD%AC"><span class="toc-number">11.3.3.</span> <span class="toc-text">Map和json的互转</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AJAX%E8%AF%B7%E6%B1%82"><span class="toc-number">12.</span> <span class="toc-text">AJAX请求</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFAJAX%E8%AF%B7%E6%B1%82"><span class="toc-number">12.1.</span> <span class="toc-text">什么是AJAX请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E7%94%9FAJAX%E8%AF%B7%E6%B1%82%E7%A4%BA%E4%BE%8B"><span class="toc-number">12.2.</span> <span class="toc-text">原生AJAX请求示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JQuery%E4%B8%AD%E7%9A%84AJAX%E8%AF%B7%E6%B1%82"><span class="toc-number">12.3.</span> <span class="toc-text">JQuery中的AJAX请求</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ajax%E6%96%B9%E6%B3%95"><span class="toc-number">12.3.1.</span> <span class="toc-text">$.ajax方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#get%E6%96%B9%E6%B3%95%E5%92%8C-post%E6%96%B9%E6%B3%95"><span class="toc-number">12.3.2.</span> <span class="toc-text">$.get方法和$post方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getJSON%E6%96%B9%E6%B3%95"><span class="toc-number">12.3.3.</span> <span class="toc-text">$.getJSON方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">12.3.4.</span> <span class="toc-text">表单序列化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-2"><span class="toc-number">12.3.5.</span> <span class="toc-text">示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#i18n%E5%9B%BD%E9%99%85%E5%8C%96%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">13.</span> <span class="toc-text">i18n国际化（了解）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFi18n%E5%9B%BD%E9%99%85%E5%8C%96"><span class="toc-number">13.1.</span> <span class="toc-text">什么是i18n国际化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BD%E9%99%85%E5%8C%96%E7%9B%B8%E5%85%B3%E8%A6%81%E7%B4%A0%E4%BB%8B%E7%BB%8D"><span class="toc-number">13.2.</span> <span class="toc-text">国际化相关要素介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BD%E9%99%85%E5%8C%96%E8%B5%84%E6%BA%90-properties-%E6%B5%8B%E8%AF%95"><span class="toc-number">13.3.</span> <span class="toc-text">国际化资源 properties 测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E8%AF%B7%E6%B1%82%E5%A4%B4%E5%9B%BD%E9%99%85%E5%8C%96%E9%A1%B5%E9%9D%A2"><span class="toc-number">13.4.</span> <span class="toc-text">通过请求头国际化页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSTL-%E6%A0%87%E7%AD%BE%E5%BA%93%E5%AE%9E%E7%8E%B0%E5%9B%BD%E9%99%85%E5%8C%96"><span class="toc-number">13.5.</span> <span class="toc-text">JSTL 标签库实现国际化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">14.</span> <span class="toc-text">参考资料</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/03/04/IDEA%E4%B8%AD%E7%9A%84Thymeleaf%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90%E5%8F%98%E9%87%8F/" title="IDEA中的Thymeleaf无法解析变量"><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover18.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IDEA中的Thymeleaf无法解析变量"/></a><div class="content"><a class="title" href="/2021/03/04/IDEA%E4%B8%AD%E7%9A%84Thymeleaf%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90%E5%8F%98%E9%87%8F/" title="IDEA中的Thymeleaf无法解析变量">IDEA中的Thymeleaf无法解析变量</a><time datetime="2021-03-04T01:55:15.000Z" title="发表于 2021-03-04 09:55:15">2021-03-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/01/springboot2%E7%AC%94%E8%AE%B0/" title="Springboot2 学习笔记"><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover16.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Springboot2 学习笔记"/></a><div class="content"><a class="title" href="/2021/03/01/springboot2%E7%AC%94%E8%AE%B0/" title="Springboot2 学习笔记">Springboot2 学习笔记</a><time datetime="2021-03-01T01:26:40.970Z" title="发表于 2021-03-01 09:26:40">2021-03-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/02/27/%E5%88%86%E9%A1%B5%E6%9D%A1%E6%A8%A1%E6%9D%BF/" title="分页条模板"><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="分页条模板"/></a><div class="content"><a class="title" href="/2021/02/27/%E5%88%86%E9%A1%B5%E6%9D%A1%E6%A8%A1%E6%9D%BF/" title="分页条模板">分页条模板</a><time datetime="2021-02-27T02:04:02.000Z" title="发表于 2021-02-27 10:04:02">2021-02-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/11/MyBatis%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/" title="MyBatis入门笔记"><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover15.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MyBatis入门笔记"/></a><div class="content"><a class="title" href="/2021/01/11/MyBatis%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/" title="MyBatis入门笔记">MyBatis入门笔记</a><time datetime="2021-01-11T01:54:11.000Z" title="发表于 2021-01-11 09:54:11">2021-01-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/01/08/SpringMVC%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/" title="SpringMVC入门笔记"><img src="https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringMVC入门笔记"/></a><div class="content"><a class="title" href="/2021/01/08/SpringMVC%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/" title="SpringMVC入门笔记">SpringMVC入门笔记</a><time datetime="2021-01-08T01:15:07.000Z" title="发表于 2021-01-08 09:15:07">2021-01-08</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.jsdelivr.net/gh/luxnln/cdn@main/img/cover/cover23.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Luxnln</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">欢迎来到我的<a target="_blank" rel="noopener" href="https://luxnln.github.io/">博客</a>一起学习！</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/algolia.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    let initData = {
      el: '#vcomment',
      appId: 'uytqObeeku5pIvOuSPbKavBQ-gzGzoHsz',
      appKey: 'maDLKIIafoz3vsD2TiHgCsbF',
      placeholder: '记得留下你的匿名和邮箱....可以快速收到回復',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
    }

    if (true) { 
      initData.requiredFields= ('nick,mail'.split(','))
    }
    
    if (false) {
      const otherData = false
      initData = Object.assign(initData, otherData)
    }
    
    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk({
      clientID: '4ca1b3485559d9a57698',
      clientSecret: '83103a3948d3dbe29eb820c515968f4813c93f0c',
      repo: 'for-gitalk',
      owner: 'luxnln',
      admin: ['luxnln'],
      id: '9f7144d9a7c69c9f00cf7612bab744df',
      language: 'zh-CN',
      perPage: 10,
      distractionFreeMode: false,
      pagerDirection: 'last',
      createIssueManually: false,
      updateCountCallback: commentCount
    })
    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Valine' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="富强,民主,文明,和谐,自由,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>